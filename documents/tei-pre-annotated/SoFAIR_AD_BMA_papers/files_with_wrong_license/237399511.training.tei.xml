<?xml version="1.0" encoding="UTF-8"?>
<tei xmlns="http://www.tei-c.org/ns/1.0">
    <teiHeader>
        <fileDesc xml:id="_1"/>
        <encodingDesc>
            <appInfo>
                <application version="0.8.1-SNAPSHOT" ident="GROBID" when="2024-06-24T09:50+0000">
                    <ref target="https://github.com/kermitt2/grobid">A machine learning software for extracting information from scholarly documents</ref>
                </application>
            </appInfo>
        </encodingDesc>
    </teiHeader>
    <text xml:lang="en">
        <p>Authors are encouraged to submit new papers to INFORMS journals by means of a style file template, which includes the journal title. However, use of a template does not certify that the paper has been accepted for publication in the named journal. INFORMS journal templates are for the exclusive purpose of submitting to an INFORMS journal and should not be used to distribute the papers in print or online or to submit the papers to another publication.</p>
        <p>In this paper, we propose one of the first models of product framing and pricing. Framing refers to the way in which the choice among available alternatives is influenced by how the alternatives are framed, or displayed (Tversky and Kahneman 1986). For example, empirical works by Agarwal, Hosanagar and Smith (2009) and Ghose and Yang (2009) in online advertising show that ads that are placed higher on a webpage attract more clicks from consumers. Johnson,Moe,Fader,2 Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!) Bellman and Lohse (2004) examine the average number of websites, sorted by product categories, that are actively visited by households each month. They observe that in a typical search session, consumers search from fewer than two stores. Their data show that 70% of CD shoppers, 70% of book shoppers, and 42% of travel shoppers are loyal to just one site. Brynjolfsson, Dick, and Smith (2010) find, in the context of a website that catalogs price and product information from multiple retailers, that only 9% of users select offers that are listed beyond the first page. In related search contexts, Baye, Gatti, Kattuman and Morgan (2009) have found that a consumer's likelihood of visiting a firm and purchasing from it is strongly related to the order in which the firm is listed on a webpage by a search engine. They find that a firm receives about 17% fewer clicks for every competitor listed above it on the screen, all other things being equal. This well-documented framing effect is a natural outcome of the cognitive burden of processing larger and larger assortments. During online shopping, it is cognitively harder for a typical consumer to visit sellers who are listed at the bottom of a web page, before or in addition to visiting those who are listed at the top (Animesh, Viswanathan and Agarwal 2011). In the context of online retailing, it has been observed that consumers' attention to a display decreases exponentially with the display's distance to the top (Feng, Bhargava, and Pennock 2007). Thus, positioning a brand or product at a top position on a listing can improve both consumer attention to the brand, and consequently, consumer selection of the brand (Chandon, Hutchinson, Bradlow, and Young 2009).</p>
        <p>Despite substantial evidence suggesting the impact of framing on consumers' choice outcome, there are very few models that have attempted to capture these effects. In this paper, we introduce one of the first models for product framing and the first one for pricing that accounts explicitly for these effects.</p>
        <p>We base our model on the notion of consideration set. A consideration set is the set of products over which a consumer will make utility comparisons before arriving at the final purchase decision.</p>
        <p>Consideration sets have gained considerable research attention since their introduction in the seminal work of Howard and Sheth (1969). A widely used approach to modeling choice in psychology and marketing is to assume that a consumer will first form a consideration set. Then she will choose from among the alternatives in the set. Consideration sets explain, behaviorally, consumers' limited ability to process or acquire information (Manrai and Andrews 1998). Empirically, it has been shown that ignoring consideration sets may lead to biased parameter estimates (Chiang, Chib and Narasimhan 1999), whereas including consideration sets improves the predictability of choice models (Hauser andGaskin 1984, Silk andUrban 1978). As an example, Hauser (1978) finds that a model with only consideration sets and uniform MNL weights attains 78% of the explanatory power of a fully specified two-stage model with consideration sets and arbitrary MNL weights.</p>
        <p>We model the effect of framing on the formation of consideration sets as follows. Products are organized into virtual pages. Each page can hold a finite number, say p, of products. A consumer will examine only the first X pages, where X is a random variable that may be personalized to the consumer's profile. The consumer forms a consideration set consisting of only products in the examined pages. From this consideration set, the consumer makes a choice according to a general choice model. Thus, products that are placed in earlier pages are more likely to be considered, and therefore purchased, than those that are placed in later pages.</p>
        <p>Given the behavior described above, we study two problems that are faced by an e-retailer who is managing n different products in a particular product category. The retailer's product framing problem is how to determine an assortment and a distribution of the products in the assortment into the different pages in order to maximize the expected revenue. The retailer's joint pricing and framing problem is to determine both the framing and pricing of the products in order to maximize the expected revenue.</p>
        <p>We further model location preference effects that come into play after the consideration sets have been formed. Location preference works as follows. First, given that a certain page enters into a consumer's consideration set, products that are displayed higher on the page are more likely to be chosen than those displayed lower on the same page, all other factors being equal. Second, given that two different pages enter into a consumer's consideration set, products that are listed in the earlier page are more likely to be chosen than products that are listed in the later page, all other factors being equal.</p>
        <p>Our contributions in this paper are the followings:</p>
        <p>• We propose one of the first models of framing effects. Our model allows for a general choice model and a general framing structure.</p>
        <p>• We prove that the product framing problem is NP-hard, even when there are only 2 pages and the choice model is the MNL model.</p>
        <p>• We propose fast, easy-to-implement algorithms with worst-case performance guarantees.</p>
        <p>Specifically, for the product-framing problem, we show that the algorithm we propose has an approximation ratio of 6/π 2 (Section 4). To our knowledge, this is the first time the bound 6/π 2 appears in the worst case analysis of algorithms. We also extend this result to a model with location preference effects (Section 5). Furthermore, we propose an algorithm with an approximation ratio of 1/3 for a more general product-framing problem with type-dependent consumer-choice models Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!) (Section 6). Finally, for the joint pricing and framing problem, we propose an algorithm with an approximation ratio of 6/π 2 (Section 7.2).</p>
        <p>• We show that an optimal joint pricing and framing solution for the MNL model has the following properties: (i) Every page is fully filled with products until all the products are displayed. (ii) All products on the same page have the same page-level markup (price minus cost), which increases monotonically with the page index. (iii) Products with higher value gaps are displayed earlier. The value gap of a product is the net utility when the product is sold at the unit wholesale cost. This implies that more attractive products (i.e., those having higher value gaps and lower markups) are displayed in earlier positions. This last finding is contrary to the findings of Arbatskaya (2007), who argues that consumers with lower search costs will search longer and obtain better deals.</p>
        <p>Our model also applies to brick-and-mortar retailers with a suitable interpretation of what consumers are willing to look at. Some consumers would only look at the most prominent displays (see Chandon, Hutchinson, Bradlow andYoung 2009, Corstjens andCorstjens 2012), while others may look at some aisles or the entire the store. In this context, our location-preference helps to model the values of having products at eye level and the value of end-of-aisle locations. Our pricing results suggest that the most prominent displays should have the highest utility products at the lowest markups.</p>
        <p>Our paper falls within the literature on assortment optimization. Assortment optimization began with a stylized model introduced by van Ryzin and Mahajan (1999). They show that under the MNL model, an optimal assortment consists of a certain number of highest-utility products when the products are equally profitable. When the products' prices are given exogenously and the choice model is the MNL model, Talluri and van Ryzin (2004) prove that an optimal assortment includes a certain number of products with the highest revenues.</p>
        <p>The assortment optimization problem is easy to solve for the MNL model over a given consideration set. Davis, Gallego and Topaloglu (2013) show that this problem can be formulated as a linear program with totally unimodular constraints. Davis, Gallego and Topaloglu (2014) also propose that under the nested logit (NL) model, the assortment optimization problem can be solved by a linear program when the nest-dissimilarity parameters of the choice model are less than one, and each consumer always makes a purchase within the selected nest. Relaxing either of these assumptions renders the problem NP-hard.</p>
        <p>The assortment optimization problem is NP-hard for general choice models. Indeed, Bront, Mendes-Diaz and Vulcano (2009) show that under the mixed multinomial logit (MMNL) choice model, the assortment optimization problem with a fixed number of mixtures is NP-hard. Desir and Goyal (2013) show that this problem is even NP-hard to approximate within a factor of O(n 1-ǫ ), for any fixed ǫ &gt; 0. They give approximation schemes that tradeoff running time with solution quality, but the running time for their approach grows exponentially with the number of mixtures.</p>
        <p>Few papers have studied assortment optimization with location effects. Davis, Gallego and Topaloglu (2013) model location effects by introducing location-dependent item weights to the MNL model, but they do not model consideration sets. The resulting assortment optimization problem reduces to a linear program with totally unimodular constraints.</p>
        <p>Assortment optimization under consideration-set-based choice models have been studied by a number of authors. One stream works with endogenous consideration sets that arise as a result of search. Cachon (2005) shows that ignoring consumer search will lead to less assortment variety, since in equilibrium, the seller needs a larger assortment to attract more consumers. Sahin and Wang (2015) also study the assortment optimization problem with search costs. They assume consumers are homogeneous, and their search sequences are predetermined by all the products' expected utilities that are known to the consumers before they search. Feldman and Topaloglu (2015) study a model in which consumers choose products according to the MNL model, but consumers of different types have different consideration sets, and the sets are fixed and nested.</p>
        <p>They devise a fully polynomial-time approximation scheme for this problem.</p>
        <p>To our knowledge, there are only two papers that model a framing-dependent formation of consideration sets. Davis, Topaloglu and Williamson (2015) study a problem in which a firm must sequentially add products to its assortment over time, thereby monotonically increasing consumers' consideration sets. They provide an algorithm with constant relative performance. The decision space for this problem is more constrained than ours and the application context is very specific. Aouad and Segev (2018) derive a polynomial-time approximation scheme for a variant of our model, where the number of products that can be displayed on each page is one, the choice model is the MNL model, and the firm requires that all positions be filled.</p>
        <p>Our work is also related to assortment pricing. Hanson and Martin (1996) are among the first to notice that the expected revenue function fails to be concave in pricing problems, even under the MNL model. Song and Xue (2007) show that the expected revenue is concave with respect to the market shares. Under the MNL model with uniform price-sensitivity parameter, the markup, defined as price minus cost, has been shown to be constant across all products at optimality (Anderson, de Palma and Thisse 1992, Hopp and Xu 2005, and Gallego and Stefanescu 2011).</p>
        <p>By assuming that the price sensitivities of the products are constant within each nest and the pages that the consumer is willing to view. From this consideration set, the consumer purchases at most one product according to a general choice model. Let λ(x) = P[X = x], and Λ(x</p>
        <p>We do not know the number of pages X that a consumer is willing to view when she arrives into the system. We assume, however, that the distribution of X is known and is independent of the framing of the products. Knowledge of X can be acquired from observing click data and by computing the frequency of consumers who examine x ∈ [m] pages. By the law of large numbers, these frequencies converge to the probability distribution of X. Although we will refer to a single random variable X, it is easy to see that X can be personalized to heterogeneous consumer types based on available information about the distribution of pages they are willing to see. Information that may change the distribution of X includes, but is not limited to, prior purchases, zip code, age, and gender.</p>
        <p>We first assume that consumers choose according to a general choice model that is independent of X. Later in Section 6, we will remove this assumption and show that under mild conditions we can still design framing algorithms with provable performance guarantees.</p>
        <p>The product-framing problem is to assign the n products to the m pages, with m • p different positions in total, to maximize the expected revenue that can be obtained from an arriving consumer. Our model does not impose any hard constraints on whether a particular page should be fully filled, i.e., should contain exactly p products. However, all the solutions generated by our algorithms have a desirable property that, for any page x ∈ [m] that is not empty, all the previous pages 1, 2, . . . , x -1 are full. In other words, our algorithms do not leave holes in the displayed pages.</p>
        <p>The product framing problem can be formulated in terms of decision variables f ∈ {0, 1} n×m , where f ix indicates whether product i ∈ [n] is displayed on page x ∈ [m]. Let P (i, S) denote the purchase probability of product i when the consideration set is S ⊆ [n], with P (i, S) = 0 if i ∈ S.</p>
        <p>The formulation in terms of the variables f ix is given by</p>
        <p>(1)</p>
        <p>Here V OPT is the expected revenue of an optimal framing algorithm OPT. For other sub-optimal algorithms Π, we denote the expected revenue of Π as V Π .</p>
        <p>We show that problem (1) is NP-hard even in the special case that m = 2 and the choice model is the MNL model. We do this by reducing the well-known 2-PARTITION problem to a special case of our model. The 2-PARTITION problem is defined as follows Definition 1 (2-PARTITION). Given a set of n non-negative numbers w 1 , w 2 , . . . , w n , determine whether there is a set S ⊆ [n] such that i∈S w i = i ∈S w i .</p>
        <p>Our reduction works as follows. Starting with any instance of 2-PARTITION, we design an instance of the framing problem (1) and construct an upper bound on the optimal solution to this framing problem. We show that the optimal expected revenue of the framing problem equals the upper bound if and only if there is a solution to the 2-PARTITION problem.</p>
        <p>Theorem 1. Problem (1) is NP-hard even when there are two pages and all consumers follow the same MNL model.</p>
        <p>Since the problem of finding an optimal framing solution is NP-hard, it is interesting to characterize upper bounds on V OPT that are easy to compute. We now propose such an upper bound, which we will use to establish approximation ratios of our framing algorithms.</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Consider the following assortment optimization problem, which constrains the number of products in the assortment to be at most c.</p>
        <p>(2)</p>
        <p>Define U (x) ≡ G(x • p), for all x ∈ [m], as the optimal expected revenue from consumers who see</p>
        <p>x ∈ [m] pages. If we had the luxury of knowing the number of pages X upon the arrival of a consumer, we would offer her an optimal assortment that yields expected revenue U (X), and earn expected total revenue</p>
        <p>The following result states that this E[U (X)] is an upper bound on the optimal expected revenue</p>
        <p>In this section, we propose framing algorithms having guaranteed constant performance ratios relative to OPT. The performance guarantee we prove in this section is tight relative to the upper bound (3), in the sense that our proofs exhibit ways to construct instances in which the bounds are achieved by our algorithms.</p>
        <p>For the purpose of proving theoretical performance guarantees, we make three innocuous assumptions:</p>
        <p>Assumption A2 In polynomial time, we can obtain a solution with expected revenue</p>
        <p>Assumption A3 X has new better than used in expectation (NBUE) distribution. That is, E[X -</p>
        <p>We stress that the framing problem is still NP-hard under these three assumptions, because the reduction in the proof of Theorem 1 incorporates all these assumptions.</p>
        <p>Assumption A1 is very general as it holds for all random utility models. Davis, Topaloglu and Williamson (2015) have shown that Assumption A1 leads to the following results, which we will use in the analysis. Lemma 1 means that it is always possible to raise the per-product revenue by removing one of the products from an assortment. This is intuitive as we only need to remove the product k ∈ S having the smallest contribution r k P (k, S). Notice that removing this product may only increase the probability of purchasing the other products, given the substitution behavior exhibited by random utility-based choice models. Lemma 2 is an analogous version of Lemma 1 at page level, i.e., the optimal per-page revenue decreases as consumers consider more pages.</p>
        <p>Assumption A2 states that we can solve the capacity-constrained problem (2) within a constant approximation ratio. For the MNL and NL models, the capacity-constrained problem can be exactly solved in polynomial time (ǫ = 0) (Gallego and Topaloglu 2014). For the Mixed Multinomial Logit model with a constant number of mixtures, the capacity-constrained problem can be solved within any constant error ǫ &gt; 0 in polynomial time (Mittal andSchulz 2013, Desir andGoyal 2013). For ease of exposition, in the rest of the paper we assume that ǫ = 0, but our algorithms and bounds can be easily extended to the case of ǫ &gt; 0 by replacing an optimal solution to (2) with an approximate one, and scaling the corresponding bound by (1ǫ).</p>
        <p>Assumption A3 means that the additional expected number of pages that a consumer will see is no more than the expected number of pages that she would like to see before the search.</p>
        <p>We first propose a family of algorithms, called NEST(y), which start by truncating the number of pages to an arbitrary integer y, and selecting an optimal assortment, say S(y), for consumers who view the first y pages. Then they select an assortment for the first y -1 pages, say S(y -1), by looking only at the products in S(y). This procedure continues until the content of all the y pages have been determined.</p>
        <p>For all x ∈ [m], let S(x) ⊆ [n] denote the set of products to be displayed in the first x pages. Let R(S) denote the expected revenue when S is the consideration set of a consumer.</p>
        <p>NEST(y) Algorithm (for y ∈ [m]):</p>
        <p>1. Solve the assortment optimization problem (2) with cardinality bound c = y • p. Set S(y) to be the assortment solution.</p>
        <p>2. For x = y -1 down to 1, choose S(x) ⊆ S(x + 1) and</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Lemma 1 ensures that we can always find such a set S(x). Note that if |S(x + 1)| &gt; x • p, then |S(x)| = x • p, meaning that the first x pages are fully filled.</p>
        <p>3. Leave pages y + 1, y + 2, . . . , m blank. Hence, S(x) = S(y) for all x &gt; y.</p>
        <p>Now for any choice of y, there is a corresponding expected total revenue V NEST(y) . We let NEST be the algorithm that chooses the y that brings the highest expected revenue. That is,</p>
        <p>V NEST(y) .</p>
        <p>We now show that NEST achieves at least 6/π 2 ≈ 0.608 times the optimal expected revenue. First, we derive lower bounds on V NEST(y) .</p>
        <p>Consequently, as NEST chooses y to maximize the expected total revenue, we must have</p>
        <p>We prove the performance guarantee of NEST by comparing this lower bound on V NEST against the upper bound (3) on V OPT . The idea of the proof is to examine the worst-case structure of</p>
        <p>y E[min(X, y)] over all functions U (•) satisfying Lemma 2, and over all distributions of X satisfying Assumption A3. For convenience we will scale U (•) without loss of generality so E[U (X)] = 1. This leads to the following min max problem:</p>
        <p>(5)</p>
        <p>The first constraint ensures that Λ corresponds to a valid tail distribution. The second constraint ensures that X has the NBUE property. The third and fourth constraints ensure that U (•) is increasing and satisfies Lemma 2. The fifth constraint normalizes E[U (X)] to 1, and the last ensures that U (•) is non-negative.</p>
        <p>11</p>
        <p>To solve this bound-revealing problem (5), we will first characterize the functions U (•) and Λ(•) in the worst case. In the process of establishing the bounds, we will not use special notations, say γ * , U * (•) or Λ * (•), to denote an optimal solution to problem (5). This comes at a small cost of ambiguity, but makes the exposition much cleaner.</p>
        <p>The following proposition gives the worst-case structure for U (•). It states that, in the worst</p>
        <p>Proof. For ease of notation, define g(x) = U (x)</p>
        <p>x E[min(X, x)]. We want to prove that g(x) is constant for all x ∈ [m]. Suppose for a contradiction that there is a smallest x, x &gt; 1, such that g(x -1) = g(x).</p>
        <p>• First, consider the case when g(x -1) &lt; g(x). We can revise the function U (•) as follows. For all y ∈ {1, 2, . . . , x -1}, we scale up U (y) such that U (y) ← (1 + ǫ)U (y) for some ǫ &gt; 0. For all y ∈ {x, x + 1, . . . , m}, we scale down U (y) such that U (y) ← (1ǫ ′ )U (y) for some ǫ ′ &gt; 0. We properly choose ǫ and ǫ ′ to maintain g(x -1) ≤ g(x) and E[U (X)] = 1. This revision keeps the solution U (•) feasible because the only constraint that might be violated is U (x -1) ≤ U (x). However,</p>
        <p>x . Therefore, the constraint U (x -1) ≤ U (x) will not be violated as long as ǫ and ǫ ′ are small enough.</p>
        <p>As a result, we can strictly decrease max y∈[m] g(y), because we can strictly decrease g(y) at points y = x, x + 1, . . . , m, and g(1</p>
        <p>. This contradicts the condition that the original U (•) is an optimal solution to (5), as we can strictly decrease the value of γ = max y∈[m] g(y).</p>
        <p>• Next, consider the case when g(x -1) &gt; g(x). We can revise the function U (•) as follows. Let Y = {x, x+1, ..., z} denote the set of consecutive indices such that (recall that U (•) is non-decreasing due to the constraints of ( 5))</p>
        <p>The only two constraints that could potentially be violated by this revision are U (x-1)</p>
        <p>x-1 ≥ U (x)</p>
        <p>x and U (z</p>
        <p>x , which means the constraint U (x-1)</p>
        <p>x-1 ≥ U (x)</p>
        <p>x will not be violated as long as ǫ and ǫ ′ are chosen small enough. Moreover, if z &lt; m, we have U (z) &lt; U (z + 1) before the revision by definition of Y. So again, as long as ǫ and ǫ ′ are chosen small enough, the constraint U (z) ≤ U (z + 1) will not be violated.</p>
        <p>Since this revision strictly decreases g(y) for all y ∈ [m] \ Y, and g(y) ≤ g(x -1) for all y ∈ Y, the revision strictly decreases max y∈[m] g(y). Thus the optimality condition meets contradiction.</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>In sum, we have proved that the function g(x) = U (x)</p>
        <p>x E[min(X, x)] must be non-increasing and non-decreasing.</p>
        <p>For U (x) of the form given by Proposition 2, we next show how γ depends on the distribution of X, by using the fact that E[U (X)] = 1.</p>
        <p>Proposition 3. Let Y be a random variable that is independently and identically distributed as X. Then Problem (5) can be equivalently re-formulated as</p>
        <p>Before proving our main theorem, we first establish an upper bound on E</p>
        <p>Lemma 3. If Y is independently and identically distributed as X, and W and Z are independent exponential random variables with mean</p>
        <p>We prove the performance guarantee of NEST by showing that E</p>
        <p>Proof. By Proposition 3 and Lemma 3,</p>
        <p>,</p>
        <p>where W and Z are independent exponential random variables with the same mean, say µ.</p>
        <p>Since Z is exponential with mean µ, we have</p>
        <p>this expression into the denominator, we obtain</p>
        <p>where the first equality follows from the distribution of W , the second from the transformation u = w/µ, the third equality is a well know result from calculus, and the last equality is an important problem in number theory, posed by Mengoli in 1644. This problem remained open for 90 years until Euler solved it in 1734 at the age of 28.</p>
        <p>Therefore,</p>
        <p>In our analysis, we used an exponential distribution to achieve the bound for Problem (5). The reader may wonder whether there is a discrete distribution over non-negative integers such that the bound for Problem ( 5) is also tight. The following proposition asserts that this is indeed the case.</p>
        <p>Proposition 4. The performance ratio 6/π 2 with respect to the upper bound ( 3) is attained when m tends to infinity, X follows a geometric distribution with mean 1/(1α), and α tends to 1 from below.</p>
        <p>We can refine NEST(y) in various ways to improve its empirical performance. First, we can greedily add products to pages beyond y. As long as the expected revenue of assortment S(x) is at least U (y) for all x = y + 1, y + 2, . . . , m, the lower bound given by Proposition 1 will still hold, and thus the approximation ratio 6/π 2 will still be valid. Second, in Step 2 of NEST(y), instead of looking for a set S(x) that satisfies equation (4), we can find an optimal S(x) from S(x + 1) by solving max</p>
        <p>This method is favorable when the choice model allows for efficient assortment optimization algorithms.</p>
        <p>We use NEST+(y) to denote the variant of NEST(y) resulting from the above modifications. We let NEST+ be the algorithm that chooses y to maximize the expected revenue of NEST+(y). We will test both NEST and NEST+ in our numerical experiments in Section 8.</p>
        <p>Corollary 1. If the capacitated assortment problem (2) has a unique optimal solution for each c, and all the optimal solutions for different c's are nested, i.e., T (1</p>
        <p>T (c) is the unique optimal assortment for G(c), then NEST+ returns an optimal solution to the product framing problem.</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>In online retailing, consumers may be more likely to choose products that are displayed at the top among search results, since consumers tend to associate high valuation with products that are displayed earlier (Chandon, Hutchinson, Bradlow, and Young 2009). In this section, we augment our model to capture the phenomenon that a consumer is more likely to buy a product displayed earlier, even if the consumer has determined her consideration set. We call this the location preference effect.</p>
        <p>We model location preference by using the MNL choice model and introducing locationdependent preference weights for all products. We use ν ixq to denote the preference weight of</p>
        <p>To capture the product framing decisions, we use</p>
        <p>to denote the framing solution, where f ixq = 1 if we offer product i at location q of page x; otherwise f ixq = 0. Under framing solution f , the expected revenue from consumers who view x pages is</p>
        <p>Here, we have assumed without loss of generality that the preference weight for the no-purchase option is 1.</p>
        <p>Under the MNL choice model, the upper-bound problem (2) is formulated as</p>
        <p>where the first set of constraints ensure that each product is offered in at most one location and the second set of constraints ensure that each location is used by at most one product. The constraint matrix is that of an assignment problem, which is totally unimodular (see Corollary 2.9 in Chapter III.1 of Nemhauser and Wolsey 1988). With the linear fractional objective function, we know the problem is easily solvable (see Davis, Gallego and Topaloglu 2013).</p>
        <p>We prove the following generalization of Lemma 2:</p>
        <p>i.e., the preference weight will decrease if the product is displayed in a later position. Then U (x) x ≤</p>
        <p>With Lemma 4 and the NBUE property (Assumption A3), it immediately follows that the 6 π 2 performance bound still holds.</p>
        <p>Then all bounds proved in Sections 4 continue to hold for the model with location preference.</p>
        <p>In this section, we relax the requirement that the consumer choice model must be the same for all the values of X. This relaxation allows us to use the number of pages viewed to differentiate keen consumers, who like to explore more pages and have a stronger desire to buy, or picky consumers, who like to look around but are less likely to make purchases.</p>
        <p>To this end, we say that a consumer is of type x if she views x pages. We allow the choice model to be type dependent. Accordingly, for a consumer of type x, we let P x (i, S) be the purchase probability of product i in assortment S. We will show that under mild assumptions, we can still design an algorithm to guarantee an expected revenue of 1/3 of the upper bound.</p>
        <p>Define</p>
        <p>to be the expected revenue from presenting assortment S to a consumer of type x, for all x ∈ [m].</p>
        <p>We will still use U (x) to denote the optimal revenue from the capacitated assortment problem for consumers of type x, namely,</p>
        <p>It is easy to verify that Theorem 2 is still valid, i.e., E[U (X)] is still an upper bound on the optimal expected revenue, as we only need to replace P (•, •) with P x (•, •) in the proof of Theorem 2.</p>
        <p>We make the following assumptions:</p>
        <p>In other words, we assume there are keen consumers who tend to explore more pages and have higher purchase probabilities.</p>
        <p>Assumption B3 Same as Assumption A2 (the existence of an approximation scheme for the assortment optimization problem (2)).</p>
        <p>Assumption B4 X has increasing failure rate (IFR).</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Assumption B1 was implicitly true in previous sections as R x (S) = R y (S) when all consumers follow the same choice model. The motivation behind Assumption B1 is as follows. When there are keen consumers, who like to shop around and have a stronger desire to buy, we would expect P x (i, S) ≤ P y (i, S) for x &lt; y, which leads to Assumption B1. This assumption, however, does not capture picky consumers who tend to view more pages and have smaller purchase probabilities.</p>
        <p>Nevertheless, when there is a mix of keen and picky consumers, Assumption B1 could still serve as a reasonable approximation.</p>
        <p>Assumption B2 is weaker than Assumption A1 in the previous section because, according to Lemma 2, the former is a result of the latter.</p>
        <p>Assumption B4 is sufficient for Assumption A3 (Shaked and Shanthikuma 2007). It is equivalent</p>
        <p>. Assumption B4 means that the probability that a consumer will view the next page is decreasing in the number of pages she has viewed.</p>
        <p>To gauge the appropriateness of our algorithms in settings where our assumptions might not hold, we perform computational experiments in these settings in Section 8.1.2. The experiments indicate that our algorithms significantly outperform greedy heuristics even in settings where the choice model changes drastically with x and the monotonicity of R x (S) in x is violated.</p>
        <p>Under Assumptions B1 to B4, we propose a family of algorithms TRUNC(y), which simply optimize for the set of products to be included in the first y pages, for y ∈ [m]. In other words, TRUNC(y) truncates the number of pages to exactly y, and does not try to optimize for the placement of these products within the y pages. The idea is to cater only to consumers who will view at least y pages.</p>
        <p>1. Same as Step 1 of NEST(y) (i.e., setting S(y) to be the assortment solution to problem (9)).</p>
        <p>2. Use any heuristic to fill in the first y pages such that the set of all products in the first y pages is S(y).</p>
        <p>3. Leave pages y + 1, y + 2, . . . , m blank.</p>
        <p>Therefore, the only difference between TRUNC(y) and NEST(y) is that given a choice of y, TRUNC(y) does not optimize the display in the first y pages.</p>
        <p>Let TRUNC be the algorithm that chooses the y maximizing V TRUNC(y) . We next show that TRUNC achieves at least 1/3 of the optimal expected revenue.</p>
        <p>The main idea of the proof is as follows. According to Assumption B1, we have U (x) ≥ U (y) for all x ≥ y. Therefore, U (y)Λ(y) is a lower bound on V TRUNC(y) , because every consumer who views</p>
        <p>x ≥ y pages yields expected revenue U (x) ≥ U (y). Consequently, max</p>
        <p>U (y)Λ(y) is a lower bound on V TRUNC . We will minimize the quantity max</p>
        <p>U (y)Λ(y) over all IFR distributions of X and all increasing functions U (•) satisfying Assumption B2. We will scale U (•) without loss of generality so the upper bound E[U (X)] is normalized to 1. We will then show that the smallest value of max y∈[m] U (y)Λ(y) is at least 1/3. Doing this is equivalent to proving the same lower bound on the following optimization problem:</p>
        <p>All the constraints follow the same logic as those in Problem (5). Note that the third constraint that U (•) be increasing is a necessary condition of Assumption B1.</p>
        <p>The following theorem states our main result for TRUNC. Please refer to Appendix A.4 for the detailed analysis.</p>
        <p>Theorem 4. Under Assumptions B1, B2, B3, and B4, V TRUNC ≥ 1/3V OPT . Moreover, 1/3 is the optimal objective value of problem (10), when m tends to infinity, X follows a geometric distribution with mean 1/θ, and θ tends to 0 from above.</p>
        <p>In practice, retailers care not only about how to select and display the products, but also how to price them to maximize the expected revenue. In this section, we consider the problem faced by a retailer who is jointly framing and pricing all products. The framing policy still determines a consumer's consideration set, i.e., the set of products in the first several pages the consumer views.</p>
        <p>But now the retailer also adopts a pricing policy that sets the price r i for each product i ∈ [n],</p>
        <p>which influences consumers' utility and thus influences the choice probability of the product.</p>
        <p>We assume that the relationship between the pricing policy and consumers' choice probabilities is given by the MNL choice model. Specifically, we assume that the choice probability of a consumer with consideration set S is</p>
        <p>1+ k∈S e u k , i ∈ S 0, otherwise, where u i is consumers' mean utility for product i. We assume that the mean utility of a product scales linearly with its price:</p>
        <p>Here, a i is the price-independent quality</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>of product i, β &gt; 0 is the price sensitivity parameter, and r i is the pricing decision. We use product 0 to refer to the outside alternative, and assume that u 0 = 0. This formulation is commonly used in the economics, marketing and psychology literature (Berry, Levinsohn and Pakes 1995;Fader and Hardie 1996;Shugan 1980).</p>
        <p>Next, in Section 7.1, we establish structural results of an optimal solution to the joint pricing and framing problem. Based on these structural results, we propose an approximation algorithm for this joint optimization problem in Section 7.2.</p>
        <p>We first consider the case where the framing policy is fixed and the only task is to find the optimal prices to maximize revenues. More precisely, suppose we are given a fixed framing policy that</p>
        <p>where</p>
        <p>is the expected revenue from a consumer with consideration set S, when (r 1 , . . . , r n ) is the pricing policy. We prove the following structural result.</p>
        <p>Theorem 5. Assume that the framing policy is given. To maximize the expected revenue, all products in the same page should have the same price. That is, there are parameters θ 1 , . . . , θ m such that r i = θ x for all products i displayed on page x. Moreover, we must have</p>
        <p>This result extends the classical MNL pricing structure. It is known that the optimal pricing strategy under the MNL revenue-optimization problem is to set the same price for all products (Anderson, de Palma and Thisse 1992, Hopp and Xu 2005and Gallego and Stefanescu 2011).</p>
        <p>Theorem 5 states that, in our framing problem, this constant-price structure is preserved for products in any fixed page.</p>
        <p>The monotonicity of page-dependent prices θ x can be explained as follows. In the classic MNL pricing problem, if a consumer is willing to view more products, hence expanding her consideration set, then an optimal pricing policy would charge her a higher price for every product. Our model inherits this property in the sense that, if a consumer expands her consideration set by viewing more pages, she will see new products having higher and higher prices.</p>
        <p>This pricing structure is in sharp contrast to that in an oligopoly market (Arbatskaya 2007).</p>
        <p>Arbatskaya (2007) studies a model in which multiple retailers compete to sell the same product.</p>
        <p>They find that retailers in later positions of the list have to price lower in order to attract more demand. Our model, however, considers the monopoly market, in which there is no need for the single retailer to compete on prices.</p>
        <p>As a result of Theorem 5, we can reduce the number of decision variables from n prices, one for each product, to m prices (θ 1 , θ 2 , . . . , θ m ), one for each page. Let P (T, S) = i∈T P (i, S) denote the probability that a consumer with consideration set S buys any product in T . The pricing problem in terms of (θ 1 , θ 2 , . . . , θ m ) is max</p>
        <p>where</p>
        <p>is the expected revenue from a consumer who considers S(x) (we let S(0) = ∅).</p>
        <p>The first order condition yields the system of equations</p>
        <p>which are equivalent to</p>
        <p>In other words, the price for products listed on page x is a constant 1/β plus a weighted average of the expected revenue from consumers who view page x.</p>
        <p>In general, the expected revenue E[R(θ|S(X))] may not be jointly concave in the θ vector, as illustrated in the following example.</p>
        <p>Example 1. There are two products and two pages. Each page can hold at most one product.</p>
        <p>Suppose that P[X = 1] = 56% and P[X = 2] = 44%. Product 1 has quality a 1 = 4 and product 2 has a 2 = 2. The price sensitivity is β = 1. Figure 1 shows the expected revenue E[R(θ|S(X))] as a function of the two prices. We see that this function is not jointly concave.</p>
        <p>We now look into the joint pricing and framing problem. By the presumed utility structure, we see that products are differentiated only by their quality parameters a i , i ∈ [n].</p>
        <p>Theorem 6. At optimality, each page is fully filled with products until all products are displayed.</p>
        <p>The products are displayed in descending order of quality a i .</p>
        <p>In essence, Theorems 5 and 6 tell us that higher-quality products should be displayed first and given lower prices, with the lowest price enjoyed by products in the first page that is seen by everybody. One of the insights given by the two theorems is that lower-quality products should be charged higher prices so as to steer consumers to higher-quality products.</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Figure 1 Pricing example.</p>
        <p>7.1.1. Profit-Maximization Problem. The structural results we have proved so far can be adapted to the profit-maximization problem, in which the expected profit from a consumer with consideration set S is i∈S (r ic i )P (i, S), where c i is the cost of product i.</p>
        <p>We can solve this profit-maximization problem by change of variables:</p>
        <p>The resulting formulation in terms of a ′ i and r ′ i is that of the revenue-maximization problem (Gallego, Li and Beltran 2016). This naturally leads to the following result.</p>
        <p>Corollary 3. For the profit-maximization problem, at optimality, products are displayed in decreasing order of value gap, defined as a iβc i for all i ∈ [n]. Also, all products are priced with page-dependent markups. That is, r ic i = θ x for all products i displayed on page x. Moreover, the page-dependent markup θ x increases with respect to the page index x.</p>
        <p>7.1.2. Location Preference Effect. Another relevant question is how to incorporate the location preference effect (see Section 5) into the joint pricing and framing problem. We can prove the following structural result based on Theorems 5 and 6.</p>
        <p>Corollary 4. Suppose that each product i ∈ [n] has mean utility a i + ω xqβr i when it is placed at the q-th position on page x, where w xq is the add-on utility for position (x, q), for all x ∈ [m] and q ∈ [p]. Also suppose that ω xq ≤ ω x ′ q ′ for all i ∈ [n], x, x ′ ∈ [m] and q, q ′ ∈ [p] such that x • p + q &gt; x ′ • p + q ′ . At optimality, each page is fully filled with products until all products are displayed.</p>
        <p>The products are displayed in descending order of their quality a i . Moreover, all products on the same page have the same price (for the revenue maximization problem) or the same markup (for the profit optimization problem). The page-dependent price or markup increases with respect to the page index.</p>
        <p>In this section, we propose an efficient pricing heuristic, which we denote as NEST-P, that borrows the idea from NEST, and prove that the heuristic also guarantees a performance ratio 6/π 2 . The algorithm's idea is to pick a number y of pages, find a price that maximizes the revenue from consumers who view y pages, and set all products with this price.</p>
        <p>NEST-P(y) Algorithm (for y ∈ [m]):</p>
        <p>1. Display all products in decreasing order of their quality a i , i ∈ [n]. Let S(x) denote the set of products displayed in the first x pages, for all x ∈ [m].</p>
        <p>2. For all products in S(y), solve an MNL pricing problem to maximize the expected revenue from consumers who view y pages.</p>
        <p>3. For x = y + 1, . . . , m, solve an MNL pricing problem to maximize the expected revenue from consumers who view x pages, when the prices of products in S(x -1) are fixed.</p>
        <p>The first step of NEST-P(y) is essentially motivated by the structural result of Theorem 6. The second and third steps are designed so that the solution of NEST-P(y) inherits all the structures that we have proved for NEST(y). From Anderson, de Palma and Thisse (1992), we know that after applying NEST-P(y), all products in the first y pages have the same price, and products in the same page x = y + 1, . . . , m have the same price.</p>
        <p>Let NEST-P be the algorithm that picks the y maximizing the expected total revenue of NEST-P(y). We can easily derive the 6/π 2 performance ratio of NEST-P by verifying that the same lower bound in Proposition 1 continues to hold.</p>
        <p>Theorem 7. For the joint pricing and framing problem, the expected revenue of NEST-P is at least 6 π 2 times the optimal expected revenue.</p>
        <p>In this section, we numerically test the performance of our framing and pricing algorithms, and compare them to other simple heuristics.</p>
        <p>In all of our test problems, we assume that consumer choice is governed by the Multinomial Logit Model. If the set of products S(x) is displayed in the first x pages, then conditional on a consumer with X = x, she will buy product i ∈ S(x) with probability</p>
        <p>By convention, we set v 0 = 1 and v i = e a i -βr i , where a i is the product quality.</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>We randomly generate n = 300 products in each test case. Every r i is randomly drawn from a log-normal distribution such that log r i 50 has mean 0 and variance 1. We set β = 1.02 and a i = r i + ǫ i , where ǫ i ∈ [-0.3, 0.3] is a noise added to the quality of product i.</p>
        <p>We test three different distributions of X: geometric, uniform and Poisson. The distribution is truncated to m = 20 pages, so that λ(20) = Λ(20). We further differentiate the test cases by different values of p and E[X]. We report the result of each test case based on 1000 simulation replicates.</p>
        <p>We test the following algorithms:</p>
        <p>• NEST. Recall that NEST(y) leaves pages x &gt; y empty.</p>
        <p>• NEST+ (Section 4.4), which is designed to improve the empirical performance of NEST.</p>
        <p>• A sorting heuristic SORT 1 , which first solves for S an assortment optimization problem with capacity m • p, and then displays all products in S in increasing order of price.</p>
        <p>• A sorting heuristic SORT 2 , which is similar to SORT 1 but displays all products in S in decreasing order of mean utility.</p>
        <p>• A sorting heuristic SORT 3 , which is similar to SORT 1 but displays all products i ∈ S in decreasing order of r i v i .</p>
        <p>• A bottom-up greedy heuristic BU, which starts with the first page (x = 1) and sequentially fills in products that would maximize the expected revenue for consumers who view x pages, for x = 2, . . . , m, such that this assortment includes all products in the first x -1 pages.</p>
        <p>• A top-down greedy heuristic TD, which starts by fitting all products into m pages. Then in the k-th step, k = 1, . . . , m -1, the heuristic finds an assortment that maximizes revenue for consumers who view mk pages, from products in the first mk + 1 pages.</p>
        <p>Refer to Tables 1 to 3 for results of framing algorithms. We defer results of additional test cases, in which X has different distributions, to Tables 11 to 16 in Appendix B. In general, SORT 3 outperforms SORT 1 and SORT 2 , and unsurprisingly NEST+ outperforms NEST. NEST+ dominates all other heuristics SORT 1 , SORT 2 , SORT 3 , TD and BU in most test cases. The average optimality gap of NEST+ is just 1.42% in the worst case, compared to 12.41% for SORT 1 , 12.25% for SORT 2 , 10.85% for SORT 3 , 10.81% for TD, and 3.51% for BU.</p>
        <p>According to the numerical results, when both the number of products per page p and the expected number of pages seen E[X] become large, algorithms such as NEST, NEST+, TD and BU tend to achieve negligible optimality gaps. This can be explained as follows. As p increases, U (y) would approach U (m) for any y ∈ [m], because consumers would be less likely to choose the no-purchase option when there are more products in the consideration set. On the other hand, E[min(X,y)] y tends to 1 as E[X] increases. Altogether, we can expect that the lower bound U (y)E[min(X, y)]/y (see Proposition 1) tends to U (m), an upper bound on the expected revenue from any consumer, as both p and E[X] increase. Consequently, as long as an algorithm tries to optimize the assortment in the first y pages for some properly chosen y, the optimality gap of the algorithm would be small in settings with large p and E[X].</p>
        <p>Performance of framing algorithms when E[X] = 2 and X follows a geometric distribution.</p>
        <p>Avg number of displayed products p NEST NEST+ SORT 1 SORT 2 SORT 3 TD BU NEST NEST+ TD BU 1 2.44% 0.78% 12.41% 11.25% 10.85% 10.76% 0.79% 6.6 20.0 20.0 20.0 3 2.54% 1.24% 11.99% 6.19% 5.35% 6.51% 0.92% 16.8 60.0 60.0 60.0 9 1.40% 0.77% 5.49% 3.03% 2.09% 1.36% 0.57% 65.4 72.3 71.8 74.8 15 0.43% 0.33% 3.55% 2.34% 1.68% 0.38% 0.26% 71.0 71.7 71.5 72.9</p>
        <p>Table 2 Performance of framing algorithms when E[X] = 4 and X follows a geometric distribution.</p>
        <p>Avg number of displayed products p NEST NEST+ SORT 1 SORT 2 SORT 3 TD BU NEST NEST+ TD BU 1 3.12% 1.14% 7.65% 6.57% 6.15% 6.10% 2.02% 12.6 20.0 20.0 20.0 3 2.73% 1.42% 7.79% 4.26% 3.38% 3.37% 2.09% 41.5 60.0 59.9 60.0 9 0.66% 0.54% 3.34% 2.01% 1.56% 0.63% 0.87% 71.4 71.4 71.4 74.5 15 0.21% 0.16% 1.95% 1.38% 1.06% 0.18% 0.25% 71.5 71.7 71.8 73.0 Under the MNL choice model, we can solve (2) using a bisection method that iteratively finds the optimal expected revenue. In each iteration, the bisection method first makes a guess R on the</p>
        <p>optimal expected revenue (i.e., a guess on the optimal objective value of ( 2)), and then in O(n) time the method looks for a subset of products i having the largest values of (r i -R)v i . These products help decide whether R is larger or smaller than the optimal expected revenue (Rusmevichientong, Shen and Shmoys 2010). The total time complexity of this bisection method is O(n log ρ), where log ρ is the number of bisection iterations and is determined by the lengths of the initial and final search intervals. For instance, ρ can be</p>
        <p>v 0 +v i are upper and lower bounds, respectively, on the optimal objective value of ( 2). (We obtain the O(n log ρ) time complexity by using in each iteration a standard O(n) algorithm for finding a subset of largest numbers; in practice, one may simply use a sorting method in each iteration to find a subset of largest numbers, which results in O(n log n log ρ) total time complexity for the assortment optimization problem.)</p>
        <p>Table 5 Number of times the cardinality-constrained assortment optimization problem needs to be solved.</p>
        <p>The time complexity of NEST is m times that of NEST(y), because in our implementation, NEST exhaustively computes NEST(y) for all y ∈ [m], and then picks the best y. In practice, one could</p>
        <p>x E[min(X, x)] (i.e., pick the y maximizing the lower bound; see Proposition 1). In this way, NEST would keep the 6/π 2 approximation ratio, and have the same time complexity as NEST(y). The same argument applies to TRUNC and NEST+.</p>
        <p>In general, the running time of NEST is better than that of NEST+ because it is faster to solve (4) than the assortment optimization problem. Nevertheless, the time complexities of both NEST and NEST+ scale linearly with n, because the time complexity of solving the assortment optimization problem (2) scales linearly with n. The average running time of NEST and NEST+, when n takes values in {100, 300, 500, 700, 900}. Other parameters are the same as those of Table 2.</p>
        <p>8.1.2. Picky Consumers. We investigate in this section whether our algorithms continue to make good decisions in settings in which v 0 (x) increases linearly or exponentially in x. Specifically, in the linear case, we set v 0 = 1 + (x -1)ω, for page index x ∈ [m]. In the exponential case, we set v 0 (x) = e (x-1)ω , for page index x ∈ [m]. We explore the range of values [0.2, 2] for ω in the linear case and [0.1, 1] in the exponential case.</p>
        <p>We can adapt NEST+ to this setting by choosing v 0 = v 0 (y) in computing NEST+(y). In this way, NEST+ inherits the structure of TRUNC. Since NEST+ is optimized for empirical performance, we could expect that NEST+ outperforms TRUNC in this setting.</p>
        <p>Tables 6 and7 display the results in the linear and exponential case, respectively. The results</p>
        <p>show that our leading algorithm NEST+ continues to have good performance in all cases. These experiments indicate that our model serves as a good approximation of the more complex setting where the choice model may change drastically with the consumer type. Thus, our model is a good starting point for an investigation of framing decisions involving heterogeneous consumers.</p>
        <p>In this section, we report test results of joint pricing and framing algorithms. We still choose n = 300 and m = 20. For product quality, we draw each a i from [50,70] uniformly at random, so that no single product would have a much larger quality value compared to the rest. We test three different algorithms: NEST-P, NEST-P(m) and NEST-P(1). Notice that NEST-P(m) and NEST-P(1) are essentially top-down and bottom-up greedy heuristics, respectively.</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Table 6 Performance of framing algorithms when choice probabilities depend on X. E[X] = 4; p = 3; X follows a Poisson distribution; v0(i) = 1 + (i -1)ω, where i is the page index.</p>
        <p>Max gap ω TRUNC NEST+ SORT 1 SORT 2 SORT 3 TD BU TRUNC NEST+ TD BU 0.2 1.01% 0.08% 7.34% 3.56% 2.44% 0.09% 0.44% 2.35% 0.54% 0.98% 2.76% 0.4 0.42% 0.02% 7.53% 3.71% 2.56% 0.02% 0.11% 1.20% 0.35% 0.21% 2.03% 0.6 0.18% 0.01% 7.33% 3.68% 2.59% 0.01% 0.03% 0.72% 0.08% 0.13% 0.48% 0.8 0.09% 0.00% 7.26% 3.56% 2.51% 0.00% 0.01% 0.39% 0.06% 0.07% 0.39% 1 0.05% 0.00% 6.82% 3.48% 2.46% 0.00% 0.00% 0.34% 0.05% 0.05% 0.19% 1.2 0.03% 0.00% 6.48% 3.40% 2.21% 0.00% 0.00% 0.22% 0.03% 0.04% 0.13% 1.4 0.02% 0.00% 6.19% 3.25% 2.07% 0.00% 0.00% 0.11% 0.03% 0.02% 0.05% 1.6 0.01% 0.00% 6.09% 3.18% 1.96% 0.00% 0.00% 0.08% 0.02% 0.02% 0.03% 1.8 0.01% 0.00% 5.92% 3.07% 1.80% 0.00% 0.00% 0.06% 0.02% 0.01% 0.09% 2 0.01% 0.00% 5.88% 3.03% 1.59% 0.00% 0.00% 0.05% 0.02% 0.01% 0.04% Performance of framing algorithms when choice probabilities depend on X. E[X] = 4; p = 3; X follows a Poisson distribution; v0(i) = e (i-1)ω , where i is the page index.</p>
        <p>Max gap ω TRUNC NEST+ SORT 1 SORT 2 SORT 3 TD BU TRUNC NEST+ TD BU 0.1 0.35% 0.13% 7.16% 3.50% 2.51% 0.14% 0.67% 0.87% 0.95% 1.15% 3.61% 0.2 0.24% 0.02% 7.57% 3.89% 2.79% 0.37% 0.13% 0.51% 0.18% 1.90% 1.49% 0.3 0.77% 0.03% 7.84% 4.07% 3.05% 1.09% 0.03% 1.42% 0.17% 4.67% 0.44% 0.4 1.45% 0.07% 7.17% 3.89% 2.86% 0.94% 0.02% 2.72% 0.34% 5.28% 0.22% 0.5 2.03% 0.13% 6.37% 3.61% 2.31% 0.68% 0.04% 3.34% 0.58% 2.84% 0.19% 0.6 2.30% 0.14% 5.98% 3.35% 1.84% 0.45% 0.06% 3.93% 0.73% 2.74% 0.39% 0.7 2.40% 0.14% 6.25% 3.79% 1.73% 0.33% 0.06% 5.18% 1.06% 2.66% 0.45% 0.8 2.37% 0.14% 7.11% 4.79% 2.05% 0.23% 0.06% 4.61% 0.96% 1.61% 0.59% 0.9 2.12% 0.12% 8.77% 6.70% 2.39% 0.20% 0.06% 4.56% 1.11% 1.46% 0.52% 1 1.95% 0.12% 10.78% 8.72% 2.38% 0.14% 0.05% 4.25% 1.00% 1.15% 0.44%</p>
        <p>Tables 8 to 10 summarize the test results of these algorithms. Please refer to Appendix B for more numerical results, in which X assumed to follow different distributions. Among all test cases, the largest optimality gap of NEST-P is only 0.40%, compared to 9.02% for NEST-P(m) and 0.87% for NEST-P(1).</p>
        <p>In all test scenarios, the average running time of NEST-P is less than two milliseconds, which is much smaller compared to NEST and NEST+. This is mainly because the MNL pricing problem can be reduced to a simple single-variable optimization problem. In particular, each time the common price of an assortment is updated by a search procedure, it takes only O(1) to re-compute the expected revenue of the assortment (Anderson, de Palma and Thisse 1992, Hopp and Xu 2005, Gallego and Stefanescu 2011).</p>
        <p>In this work, we propose one of the first models of "framing effects" for pricing and assortment optimization. We introduce a model in which a set of products must be organized sequentially into</p>
        <p>Max gap p NEST-P NEST-P(m) NEST-P(1) NEST-P NEST-P(m) NEST-P(1) 1 0.33% 2.01% 0.60% 0.40% 2.95% 0.70% 3 0.20% 0.67% 0.42% 0.28% 1.23% 0.55% 9 0.06% 0.09% 0.17% 0.13% 0.23% 0.27% 15 0.02% 0.03% 0.08% 0.05% 0.08% 0.15% a set of virtual pages and priced appropriately. Each consumers will only consider a random number of pages, and will select an product, if any, from these pages following a general choice model. We</p>
        <p>show that this product framing problem is NP-hard. We derive algorithms with guaranteed relative performance. Our algorithms are fast and easy to implement. We also show new structural results</p>
        <p>for pricing under framing effects. Directions for future research include to endogenize the number of pages consumers are willing to see. In the context of dynamic search, it would be convenient to allow for correlations between X and the choice model.</p>
        <p>Van Anh Truong gratefully acknowledges support from the National Research Foundation under NSF CAREER Award CMMI 1653770.</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Based on this property, we will show in Lemmas 5, 6 and 7 that we must have</p>
        <p>This implies that R(S) = f (d, 0) if and only if</p>
        <p>then S is an optimal solution to our model (not vice versa).</p>
        <p>Let S * be an optimal solution to our model. Finally, we prove the theorem by showing that the following two conditions are equivalent:</p>
        <p>• R(S * ) = f (d, 0), i.e., the optimal expected revenue of our model is f (d, 0).</p>
        <p>• The 2-PARTITION problem has a solution.</p>
        <p>This equivalence helps reduce the framing problem to the 2-PARTITION problem as follows. If we can solve the framing problem, then we can find the optimal expected revenue. If the optimal expected revenue is f (d, 0), then we can conclude that there is a solution to the 2-PARTITION problem. If the optimal value is not f (d, 0), then we can conclude that there is no solution to the 2-PARTITION problem.</p>
        <p>To prove the equivalence, first suppose that the 2-PARTITION problem has a solution T ⊆ {1, 2, ..., d} such that</p>
        <p>We construct a solution S ⊂ {1, 2, ..., 2d} to our model as</p>
        <p>We can check that |S| = d and</p>
        <p>Therefore, according to (13), S is an optimal solution to our model that gives expected revenue</p>
        <p>On the other hand, suppose S * is an optimal solution to our model and R(S * ) = f (d, 0). According to (13), we must have |S * | = d and i∈S * ν i = 1, which gives</p>
        <p>This proves that the 2-PARTITION problem has a solution.</p>
        <p>following three lemmas provide the missing details regarding the revenue function f (•, •), which we deferred from the proof of Theorem 1.</p>
        <p>Proof. Suppose l is relaxed to a non-negative continuous variable. Then the only solution for</p>
        <p>It is easy to check that this is a local maximizer for f (l, 0). Therefore, f (l, 0) is quasi-concave in l for l ≥ 0.</p>
        <p>Given that l can only take non-negative integral values, we can deduce that, as long as d ≥ 1,</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Therefore, since f (l, 0) has at most one local maximizer for l ≥ 0, l = d must be the unique maximizer for f (l, 0) when l is a non-negative integer. Consequently, the above two conditions ensure that f (d, 0)f (l, 0) &gt; 1 200d 2 for all non-negative integers l such that l = d.</p>
        <p>Proof. Plugging l = d into the definition of f (l, θ), we obtain</p>
        <p>Given θ ∈ [-1, 1], the unique solution of ∂f (d, θ)/∂θ = 0 is θ = 0. It is easy to check that θ = 0 is a maximizer for f (d, θ). This prove that f (d, θ) &lt; f (d, 0) for all θ = 0 and θ ∈ [-1, 1].</p>
        <p>Lemma 7. For all l = d, l ∈ {0, 1, ..., 2d}, and θ such that</p>
        <p>Proof. It is easy to verify that, as long as d ≥ 1,</p>
        <p>(because θ ∈ [-0.5, 0.5])</p>
        <p>=f (l, 0) + (2f (l, 0) + 34)|θ| ≤f (l, 0) + (2f (d, 0) + 34)|θ| (by Lemma 5)</p>
        <p>This completes the proof of the lemma.</p>
        <p>Proof of Theorem 2.</p>
        <p>Proof. Suppose f * is an optimal solution to (1). We must have, for any x ∈ M,</p>
        <p>Proof of Corollary 1.</p>
        <p>Proof.</p>
        <p>x + 1 .</p>
        <p>If |S(x)| = |S(x + 1)|, then we must have S(x) = S(x + 1), and thus</p>
        <p>x + 1 .</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Consequently, for all x = 1, 2, . . . , y -1, R(x)</p>
        <p>x R(y)</p>
        <p>where the equality is because S(y) is an optimal solution to problem (2), and thus R(y) is the corresponding optimal expected revenue.</p>
        <p>Since all consumers who view x ≥ y pages see the same assortment S(y) with expected revenue U (y), we can obtain</p>
        <p>where the inequality is by ( 14).</p>
        <p>Proof of Proposition 3.</p>
        <p>Proof. By Proposition 2, U (x) = γ</p>
        <p>x</p>
        <p>, where Y has the same distribution as X. Then</p>
        <p>.</p>
        <p>result follows after dividing both sides by γ.</p>
        <p>Proof of Lemma 3.</p>
        <p>Proof. We prove the following three statements in order: )] for any increasing convex function g(•). , x)] for all x ≥ 0.</p>
        <p>• If Y is independently and identically distributed as X, and W and Z are independent exponential random variables with mean</p>
        <p>To prove the first statement, let µ ≤ µ for all t ≥ 0, which gives FX (t)</p>
        <p>Notice that the left hand side can be written as -dln ∞ t FX (v)dv. We integrate both sides over</p>
        <p>Since ln</p>
        <p>= ln µ, the above reduces to the desired result:</p>
        <p>To prove the second statement, we apply the first statement to X and Z and obtain</p>
        <p>To prove the third statement, define h(x) = x/E[min(Z, x)]. By the second statement of the lemma, we have for all x ∈ [m],</p>
        <p>x</p>
        <p>Since h(x) is increasing convex, it follows from the first statement of the lemma that</p>
        <p>.</p>
        <p>Proof of Proposition 4.</p>
        <p>Proof. Let X, Y be geometrically distributed with mean 1 1-α . That is, P</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>The above series is an increasing function of α. It is maximized both locally and globally at α = 1. To find the limit at α = 1, we use two applications of L'Hospital's rule to obtain</p>
        <p>Proof of Lemma 4.</p>
        <p>Proof. It is easy to see that the value of U (x) satisfies the following equation:</p>
        <p>where f * is a framing solution that corresponds to an optimal assortment for Problem (7). Any suboptimal assortment yields the left hand side larger than the right hand side.</p>
        <p>For any x ′ &lt; x, from all the products offered in f * , we can pick the x ′ × p products i having the largest values of (r i -U (x))ν ilq . Let us denote this set of products by S. Then it must be true that</p>
        <p>Let f ′ be the framing solution that keeps the positions of those products i ∈ S that are already in the first x ′ pages, and moves all other products in S to the first x ′ pages. The products in S that are now displayed earlier have higher location preference weights. So we must have</p>
        <p>Also, since U (x ′ ) is the optimal expected revenue of an assortment displayed in the first x ′ pages, we must have</p>
        <p>Finally, we have U (x ′ ) ≤ U (x) because U (x ′ ) corresponds to a more constrained assortment optimization problem.</p>
        <p>again get a contradiction. Since z is the smallest x such that U (x)Λ(x) &lt; U (y)Λ(y), we must have U -1)Λ(z -1) &gt; U (z)Λ(z). Altogether, we obtain</p>
        <p>Because z ≤ y and y = max arg max x∈[m] g(x) (by Lemma 9), g(z -1) &gt; g(z) contradicts the unimodality of g(•) given by Lemma 8.</p>
        <p>Altogether, we have proved by contradiction that U (z)Λ(z) = U (y)Λ(y).</p>
        <p>Proposition 7. h(x) = h(y) for all x = y, . . . , m -1.</p>
        <p>Proof. This proposition implies that Λ(x + 1)Λ(x -1) = Λ(x) 2 for all x = y, . . . , m -1. not, there is a z such that Λ(z + 1)Λ(z -1) &lt; Λ(z) 2 , and we can increase Λ(z + 1), . . . , Λ(m) by a small amount while maintaining the IFR property. This adjustment does not affect max x∈[m] U (x)Λ(x) because y ≤ z is its largest maximizer. However, this adjustment has the effect of increasing Consequently,</p>
        <p>From Lemma 8 and Lemma 9, we know that y = min{x ∈ [m] : h(x) &gt; 1/(x + 1)}. It follows that θ = h(y) &gt; 1/(y + 1) and h(y -1) ≤ 1/y. Substituting back into the above expression, we obtain</p>
        <p>This proves the 1/3 performance guarantee because U (y)Λ(y) is the optimal objective value of Problem (10).</p>
        <p>To show that the 1/3 ratio is attained in the worst case of problem (10), we construct a feasible solution to (10) and show that its objective value is 1/3. Suppose m = +∞. Suppose X follows a geometric distribution with mean 1 θ . Let y = min{x ∈ [m] : θ &gt; 1/(x + 1)}, so 1/y ≥ θ &gt; 1/(y + 1). Let U (x)Λ(x) = U (y)Λ(y) for all x = 1, ..., y -1 and U (x)</p>
        <p>x = U (y) y for all x ≥ y. It is easy to check that this constructed solution (Λ(•), U (•)) is feasible to problem (10). Moreover, all the inequalities in ( 16) are tight, i.e., satisfied with equalities.</p>
        <p>Therefore,</p>
        <p>Next, we show that y = max arg max x∈[m] U (x)Λ(x). For all x = 1, ..., y -1, U (x)Λ(x) ≤ U (y)Λ(y)</p>
        <p>holds by construction of the solution. For x ≥ y, U (x)Λ(x) = x y U (y)(1θ) x-1 &lt; U (y)Λ(y) =</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>A.5. Proofs Section 7</p>
        <p>Proof of Theorem 5.</p>
        <p>Proof. Given the framing decision S(x), ∀x ∈ [m], we maximize solely over prices. That is, we</p>
        <p>where R(r|S(x)) is the expected revenue from consumers with consideration set S(x), and</p>
        <p>is the probability of choosing product i if i ∈ S(x). Taking the partial derivative of P i, S(x) with respect to r i and r k , respectively, we have ∂P i, S(x) ∂r i</p>
        <p>= βP i, S(x) P i, S(x) -1 , ∂P i, S(x) ∂r k</p>
        <p>= βP i, S(x) P k, S(x) .</p>
        <p>Taking the first order derivative of the expected revenue R(r|S(x)) with respect to r i , we obtain</p>
        <p>= βP i, S(x) { 1 β + k∈S(x)</p>
        <p>Let x(i) denote the page index where product i is displayed (let x(i) = m + 1 if product i is not displayed in any of the m pages). Taking partial derivative of the total expected revenue with respect to r i , we obtain</p>
        <p>Setting the partial derivative to zero, we obtain</p>
        <p>that equation ( 18) is satisfied either when P i, S(l) = 0, ∀l ∈ [m], (i.e., when r i = +∞, meaning product i is priced out of the market); or when</p>
        <p>.</p>
        <p>Products with infinite prices can be equivalently viewed as they are not displayed at all. Thus, without loss of generality, we can assume that all the displayed products (i.e., all products in S(m))</p>
        <p>have finite On the other hand, it is easy to check that in equation ( 19), the right hand side is the same for all i and k such that x(i) = x(k). Thus, for every finitely priced product i, there must be a page-level invariant price θ x(i) such that r i = θ x(i) at optimality.</p>
        <p>For the monotonicity of the page-level prices, notice that equation ( 19) tells us that the price is a weighted average of 1 β + R(r|S(l)), where R(r|S(l)), the expected revenue from consumers with consideration set S(l), must be non-decreasing in l. To see this, suppose for a contradiction that R(r|S(l -1)) &gt; R(r|S(l)) for some l. This could only be because we set prices too low for products in page l. Then we would just raise the prices of products in page l, and increase the expected revenue from consumers with consideration set S(l). Moreover, the expected revenue from consumers who view l + 1, . . . , m pages can also be increased due to the unimodality of R(r|S(l))</p>
        <p>with respect to each of the price values (Gallego, Li and Beltran 2016). Consequently, at optimality, R(r|S(l)) must be non-decreasing in l.</p>
        <p>Proof of Theorem 6.</p>
        <p>Proof. Suppose that the framing solution S(x), for all x ∈ [m], is fixed. Given the quality vector a = (a 1 , ..., a n ), we define r(a) and R(a) as an optimal pricing vector and its corresponding total expected revenue, respectively: Thus, the total expected revenue increases in the quality of any displayed product. Since removing a product is equivalent to reducing its quality to negative infinity, it is never beneficial to remove</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>any product the m pages. Furthermore, if any product i that is not displayed has a higher quality value than a displayed product k, we can replace product k with product i to increase the total expected revenue. Altogether, an optimal policy will either display all the products, or display the p • m products having the highest quality values.</p>
        <p>To prove that products should be displayed in decreasing order of quality, suppose for a contradiction that there is a product k displayed on page x and a product i displayed x + 1 such that a k &lt; a i .</p>
        <p>Consider two cases:</p>
        <p>1. a kβr k (a) &lt; a iβr i (a). By Theorem 5, we have r k (a) ≤ r i (a), since product k is displayed prior to product i. We modify the solution by switching the positions of these two products without changing their prices. This only affects the expected revenue from consumers who view x pages. For these consumers, product k is replace with a product having higher expected utility and a higher price, so the expected revenue from them must increase. Therefore, the modification increases the total expected revenue, leading to a contradiction. Altogether, we have proved that the quality values of products in any page x should be at least those of products in page x + 1.</p>
        <p>Proof of Corollary 4.</p>
        <p>Proof. Given that the framing policy is fixed, the common price property can be proved using the same argument as in Theorem 5.</p>
        <p>As for the ordering of product quality, we can slightly modify the proof of Theorem 6 as follows.</p>
        <p>Suppose for a contradiction there is a product i displayed at position (x, q) and a product i ′ displayed at position (x ′ , q ′ ) such that a i &lt; a i ′ and x • p + q &lt; x ′ • p + q ′ . Consider two cases:</p>
        <p>1. a i +ω xq -βr i &lt; a i ′ +ω x ′ q ′ -βr i ′ . Since position (x, q) is earlier than (x ′ , q ′ ), we have w xq ≥ w x ′ q ′ , so a i + ω xqβr i &lt; a i ′ + ω x ′ q ′ -βr i ′ ≤ a i ′ + ω xqβr i ′ . If we switch the positions of the two products without changing their prices, consumers who view x, . . . , x ′ -1 pages will see a product having 51 Table 13 of framing algorithms when E[X] = 8 and X follows a uniform distribution.</p>
        <p>Avg number of displayed products p NEST NEST+ SORT 1 SORT 2 SORT 3 TD BU NEST NEST+ TD BU 1 1.38% 0.78% 3.53% 2.72% 2.47% 2.28% 3.49% 14.6 20.0 20.0 20.0 3 0.97% 0.79% 3.80% 2.36% 1.90% 0.95% 3.30% 44.7 60.0 60.0 60.0 9 0.16% 0.15% 1.13% 0.78% 0.63% 0.15% 0.88% 71.5 71.8 71.6 74.8 15 0.05% 0.04% 0.59% 0.43% 0.35% 0.04% 0.19% 71.8 71.8 71.5 73.0</p>
        <p>Table 14 Performance of framing algorithms when E[X] = 2 and X follows a Poisson distribution.</p>
        <p>Avg number of displayed products p NEST NEST+ SORT 1 SORT 2 SORT 3 TD BU NEST NEST+ TD BU 1 1.45% 0.51% 12.20% 11.02% 10.57% 10.41% 0.72% 5.2 20.0 20.0 20.0 3 1.55% 0.88% 11.53% 5.82% 4.83% 5.86% 0.93% 14.2 60.0 60.0 60.0 9 0.98% 0.66% 5.24% 3.08% 2.27% 1.08% 0.69% 58.7 71.9 71.6 74.9 15 0.34% 0.26% 3.36% 2.33% 1.85% 0.30% 0.32% 72.0 71.5 71.6 73.3</p>
        <p>Table 15 Performance of framing algorithms when E[X] = 4 and X follows a Poisson distribution.</p>
        <p>Avg number of displayed products p NEST NEST+ SORT 1 SORT 2 SORT 3 TD BU NEST NEST+ TD BU 1 1.13% 0.48% 7.32% 5.79% 5.56% 5.62% 1.81% 8.9 20.0 20.0 20.0 3 1.03% 0.62% 6.81% 3.49% 2.50% 2.23% 2.23% 27.5 60.0 60.0 60.0 9 0.21% 0.19% 2.61% 1.98% 1.65% 0.19% 1.17% 71.5 71.9 71.9 74.6 15 0.05% 0.04% 1.05% 0.82% 0.75% 0.04% 0.30% 71.9 71.5 71.6 73.1</p>
        <p>Table 16 Performance of framing algorithms when E[X] = 8 and X follows a Poisson distribution.</p>
        <p>Avg number of displayed products p NEST NEST+ SORT 1 SORT 2 SORT 3 TD BU NEST NEST+ TD BU 1 0.67% 0.29% 3.22% 2.33% 2.03% 1.76% 3.37% 14.7 20.0 20.0 20.0 3 0.37% 0.25% 3.38% 2.29% 1.83% 0.40% 3.51% 55.1 60.0 60.0 60.0 9 0.01% 0.01% 0.44% 0.38% 0.35% 0.01% 0.86% 71.5 71.8 71.9 74.4 15 0.00% 0.00% 0.07% 0.05% 0.05% 0.00% 0.15% 72.1 71.7 71.9 72.4</p>
        <p>each of the algorithms has to solve this assortment problem.</p>
        <p>∞ a</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Author: Article Short Title Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Van Ryzin, G., S. Mahajan. 1999a. On the relationship between inventory costs and variety benefits in retail assortments. Management Science 45(11) 1496-1509. Ward Hanson, Kipp Martin. 1996. Optimizing multinomial logit profit functions. Management Science 42(7) 992-1003. URL http://www.jstor.org/stable/2634363.</p>
        <p>Proof of Theorem 1.</p>
        <p>Proof. any instance of a 2-PARTITION problem with d numbers w 1 , w 2 , ..., w d . We reduce this instance to a special case of our model with m = 2, p = 200d 2 and n = 400d 2 + 2d. The attractiveness of the 'no-purchase' option is 1. The revenues and attractiveness of the n products are as follows:</p>
        <p>• Each of the first d products corresponds to a number in the two-partition problem. For i = 1, 2, ..., d, we set r i = 34 and ν i = M + ǫw i , where ǫ is some small value that we will define shortly, and M is determined by ǫ via</p>
        <p>• For i = d + 1, d + 2, ..., 2d, we set r i = 34 and ν i = M .</p>
        <p>• For i = 2d + 1, 2d + 2, ..., 3d, we set r i = 59 and ν i = 2δ where</p>
        <p>• For i = 3d + 1, 3d + 2, ..., n, we set r i = 59 and ν i = δ.</p>
        <p>Given the special case constructed above, we argue that for an optimal framing solution, it is critical to decide which of the first 2d products with revenue 34 should be offered on the first page.</p>
        <p>We prove that the total expected revenue is a quasi-concave function of the total attractiveness of the first 2d products offered on the first page. In particular, if the 2-PARTITION problem has a solution, then we are able to recover that solution from the maximizer of the quasi-concave function (i.e., the optimal solution of our model). Therefore, we can solve the 2-PARTITION problem by optimizing the expected total revenue of our model.</p>
        <p>We first observe the following structural properties of the special case of our model:</p>
        <p>1. Since r i ≤ 59 for all i ∈ [n], the optimal expected revenue must be strictly less than 59 (due to the no-purchase option). Thus, it is never optimal to leave any space in the two pages unfilled, as there are plenty of products with revenue 59.</p>
        <p>2. It is easy to check that it always improves revenue to greedily replace a product with revenue 59 and attractiveness δ by, if any, a spare product with revenue 59 and attractiveness 2δ. Furthermore, whenever there is a product with revenue 59 and attractiveness δ on the first page and a product with revenue 59 and attractiveness 2δ on the second page, it is better to greedily swap the two products. Thus, products with revenue 59 and attractiveness 2δ should all be put on the first page.</p>
        <p>Author: Article Short Title Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!) 33 3. Starting with an optimal solution, if we remove all the (at most 2d) with revenue 34 from the first two pages, we end up with at least 2p -2d products with revenue 59 remaining in the two pages (among which only d products have attractiveness 2δ). Since 2p -2d ≈ 2p, it is easy to check that the resulting expected revenue for consumers who view two pages is at least</p>
        <p>Thus, when we put those products with revenue 34 back into the solution, the expected revenue for consumers who view two pages must be strictly greater than 34. This implies that in the optimal solution, no product with revenue 34 should be put on the second page, because 34 is lower than the expected revenue of the assortment consisting of products on the two pages.</p>
        <p>In summary, an optimal framing solution must (i) put some of the products with revenue 34 on the first page, (ii) put all products with revenue 59 and attractiveness 2δ on the first page, and</p>
        <p>(iii) fill in all other spots using products with revenue 59 and attractiveness δ.</p>
        <p>In the rest of this proof, we will focus on framing solutions that satisfy the above conditions.</p>
        <p>Then each framing solution can be characterized by a set S ⊆ {1, 2, ..., 2d} of products with revenue 34 that are put in the first page.</p>
        <p>We set λ(1) = λ(2) = 0.5. The total expected revenue under decision S is</p>
        <p>ease of exposition, we define the following function f (•, •):</p>
        <p>for all l = 0, 1, . . . , 2d and θ ∈ R (with d ≥ 1 fixed). Then we can simply express the expected revenue under decision S as</p>
        <p>We set</p>
        <p>Then the term i∈S ν i -|S|/d in (12), i.e., the second variable of the f (•, •) function, satisfies Altogether, we can obtain</p>
        <p>x , which completes the proof.</p>
        <p>In this section, we prove Theorem 4 by characterizing the structure of an optimal solution to (10).</p>
        <p>Let (U, Λ) denote an optimal solution to (10). Without loss of generality, suppose that Λ(x) &gt; 0 for all x ∈ [m] (if this does not hold, we can reduce the value of m so that Λ(m) &gt; 0).</p>
        <p>is the failure rate). Also define</p>
        <p>We first establish some elementary results concerning the function g(x), which turns out to play an important role in the analysis.</p>
        <p>Lemma 8. If X has an IFR distribution, then g(x) is weakly unimodal. Furthermore,</p>
        <p>Proof. By Assumption B4 and definition of h(•), we have h(1)</p>
        <p>A little algebra shows that g(x) ≤ g(x+1) if and only if h(x) ≤ 1/(x+1), for all x = 1, 2, . . . , m-1.</p>
        <p>Therefore, we must have</p>
        <p>which proves that g(•) is weakly unimodal. It immediately follows that z = min{x ∈ [m] : h(x) &gt; 1/(x + 1)} is the largest maximizer of g(•).</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
        <p>Next, we show the structure of an optimal solution to Problem (10) in Propositions 5, and 7.</p>
        <p>Proposition 5. U (x) x = U (y) y for all x = y, . . . , m.</p>
        <p>Proof. We first prove the first statement. Recall that Assumption B2 states U (x-1)</p>
        <p>x-1 ≥ U (x)</p>
        <p>x for all x = y + 1, . . . , m. If there is any z ∈ {y + 1, . . . , m} such that U (z-1) z-1 &gt; U (z) z (i.e., inequality is strict), we can revise U (•) as follows:</p>
        <p>• U (x) ← (1 + ǫ 1 )U (x) for all x = z, . . . , m,</p>
        <p>where ǫ 1 &gt; 0 and ǫ 2 &gt; 0 are small values such that all constraints of (10) are still satisfied.</p>
        <p>Since y was the original largest maximizer of the objective U (x)Λ(x) of ( 10), and we have reduced</p>
        <p>the revised U (•) function gives a smaller objective value of (10). This contradicts the fact that U (•) is an optimal solution. Therefore, we must have U (x-1)</p>
        <p>x-1 = U (x)</p>
        <p>x for all</p>
        <p>x = y + 1, . . . , m.</p>
        <p>Lemma 9. y = max arg max x∈[m] g(x).</p>
        <p>Proof. Since y is the largest maximizer of U (x)Λ(x), we have U (x)Λ(x) &lt; U (y)Λ(y) for all</p>
        <p>x &gt; y, and U (x)Λ(x) ≤ U (y)Λ(y) for all x &lt; y.</p>
        <p>For all x &lt; y, we combine U (x)Λ(x) ≤ U (y)Λ(y) and Assumption B2 to obtain xΛ(x) ≤ yΛ(y). For all x &gt; y, we combine U (x)Λ(x) &lt; U (y)Λ(y) Proposition 5 to obtain xΛ(x) &lt; yΛ(y). Therefore, y is the largest maximizer of g(x) over x ∈ [m].</p>
        <p>Proposition 6. U (x)Λ(x) = U (y)Λ(y) for all x = 1, . . . , y.</p>
        <p>Proof. Since y is the largest maximizer of U (x)Λ(x), we have U (x)Λ(x) ≤ U (y)Λ(y) for all</p>
        <p>x = 1, . . . , y.</p>
        <p>Suppose for a contradiction that the proposition does not hold. Then let z be the smallest</p>
        <p>x ∈ {1, . . . , y} such that U (x)Λ(x) &lt; U (y)Λ(y). Since U (z)Λ(z) &lt; U (y)Λ(y) and Λ(z) ≥ Λ(y) ≥ 0, we must have U (z) &lt; U (y). Consider the following two cases depending on the value of z:</p>
        <p>• If z = 1, then we could scale up U (1) and scale down U (x) for all x = 2, . . . , m, while keeping U (x) increasing in x and E[U (X)] = 1. This reduces max x∈[m] U (x)Λ(x), which contradicts the optimality of Problem (10).</p>
        <p>• Suppose z &gt; 1. We now argue that U (z)/z = U (z -1)/(z -1). Otherwise, we could scale up U (z) and scale down U (x) for all x = z, violating any constraints of Problem (10), and</p>
        <p>, where the inequality follows from Lemma 8 (i.e., y = min{x ∈ [m] : &gt; 1/(x + 1)} is the maximizer of x(1θ) x-1 ).</p>
        <p>Altogether, we have</p>
        <p>When θ → 0, we have y → ∞ and (y -1)h(y -1)+ 1 y (y -1+1/θ) → 3. Thus, max x∈[m] U (x)Λ(x) → 1/3 in the limit θ → 0.</p>
        <p>higher expected (increased from a i + ω xqβr i to a i ′ + ω xqβr i ′ ) and a higher price. Thus, the expected revenue from those consumers will increase, while the expected revenue from all other consumers will not change. Therefore, the total expected revenue will increase after the switching.</p>
        <p>2. a i + ω xqβr i ≥ a i ′ + ω x ′ q ′βr i ′ . Conceptually, we can apply the same argument as in the proof of Theorem 6 by viewing a i + w xq and a i ′ + w x ′ q ′ as the new quality of products i and i ′ , respectively. We simultaneously increase a i and reduce a i ′ until the quality values are switched.</p>
        <p>Such modification only improves the total expected revenue.</p>
        <p>Altogether, we have shown contradiction that an optimal policy would always display all products in decreasing order of quality, even with the location preference effect.</p>
        <p>Proof of Theorem 7.</p>
        <p>Proof. From Theorem 6, we know that an optimal joint framing and pricing solution always displays all products in decreasing order of quality, until all pages are full or all products are displayed. Fix the framing policy, and let S(x) denote the set of all products in the first x ∈ [m] pages. Let r * = (r * 1 , . . . , r * n ) denote the optimal pricing vector. We want to show that</p>
        <p>We can naturally re-define</p>
        <p>as an upper bound on R(r * |S(x)).</p>
        <p>It then suffices to show V NEST-P ≥ 6</p>
        <p>To this end, it remains to verify that (i) the lower bound in Proposition 1 holds for NEST-P(y), and (ii) all the constraints in (5) regarding U (x) are still satisfied. Let r NEST-P(y) denote the pricing vector set by NEST-P(y).</p>
        <p>• We first argue that the lower bound in Proposition 1 still holds. For consumers who view y pages, we have precisely R(r NEST-P(y) |S(y)) = U (y) by definition of NEST-P(y). For consumers who view x &lt; y pages, since all products in the first y pages have the same price and products on earlier pages have higher quality, we must have</p>
        <p>From Gallego, Li and Beltran (2016), we know that the price of products set by NEST-P(y) in pages x = y + 1, . . . , m increases in x, as the sum of quality of all products considered by consumers increases in x. Therefore, R(r NEST-P(y) |S(x)) increases in x. Consequently, R(r NEST-P(y) |S(x)) ≥ R(r NEST-P(y) |S(y)) = U (y) for all x ≥ y. • Next we verify that all the constraints in (5) regarding U (•) are still satisfied. Clearly U (x) is increasing in x. Also, after solving the upper bound problem ( 22), the expected revenue of the assortment consisting of products in the first x -1 pages must be at least x-1 x U (x), because all the products have the same price and products in the first x -1 pages have higher quality values. It follows that U (x -1) ≥ x-1</p>
        <p>x U (x). Thus U (x)/x is x. Altogether, Problem (5) still serves as a bound-revealing problem if we E[U (X)] = 1.</p>
        <p>So the approximation ratio of NEST-P is at least 6/π 2 . Table 11 Performance of framing algorithms when E[X] = 2 and X follows a uniform distribution.</p>
        <p>Avg number of displayed products p NEST NEST+ SORT 1 SORT 2 SORT 3 TD BU NEST NEST+ TD BU 1 0.56% 0.43% 12.28% 10.76% 10.89% 10.81% 0.71% 3.0 20.0 20.0 20.0 3 0.81% 0.69% 11.22% 5.97% 4.62% 5.94% 0.87% 9.0 60.0 60.0 60.0 9 0.60% 0.57% 5.45% 3.10% 2.29% 0.94% 0.63% 27.0 71.8 72.0 74.8 15 0.31% 0.24% 3.27% 2.37% 1.86% 0.24% 0.39% 45.0 71.9 71.4 73.3</p>
        <p>Table 12 Performance of framing algorithms when E[X] = 4 and X follows a uniform distribution.</p>
        <p>Avg number of displayed products p NEST NEST+ SORT 1 SORT 2 SORT 3 TD BU NEST NEST+ TD BU 1 1.22% 0.66% 7.27% 6.07% 5.34% 5.29% 1.93% 6.9 20.0 20.0 20.0 3 1.21% 0.93% 6.96% 3.88% 2.91% 2.50% 2.20% 20.7 60.0 60.0 60.0 9 0.37% 0.35% 2.63% 1.80% 1.46% 0.34% 1.01% 62.9 71.8 71.5 74.4 15 0.12% 0.09% 1.33% 0.95% 0.76% 0.09% 0.25% 72.0 71.9 71.8 72.7</p>
        <p>Article submitted to Operations Research; manuscript no. (Please, provide the manuscript number!)</p>
    </text>
</tei>
