<?xml version="1.0" encoding="UTF-8"?>
<tei xmlns="http://www.tei-c.org/ns/1.0">
    <teiHeader>
        <fileDesc xml:id="_1"/>
        <encodingDesc>
            <appInfo>
                <application version="0.8.1-SNAPSHOT" ident="GROBID" when="2024-06-24T11:36+0000">
                    <ref target="https://github.com/kermitt2/grobid">A machine learning software for extracting information from scholarly documents</ref>
                </application>
            </appInfo>
        </encodingDesc>
    </teiHeader>
    <text xml:lang="en">
        <p>This is a PDF file of an article that has undergone enhancements after acceptance, such as the addition of a cover page and metadata, and formatting for readability, but it is not yet the definitive version of record. This version will undergo additional copyediting, typesetting and review before it is published in its final form, but we are providing this version to give early visibility of the article. Please note that, during the production process, errors may be discovered which could affect the content, and all legal disclaimers that apply to the journal pertain.</p>
        <p>Recently, the blockchain, which builds a decentralized shared network for secure and reliable data record and transfer without a centralized authority, has become a hot topic in business, industry and academia [1]. In the blockchain, the consensus mechanism makes the network reach an agreement in the presence of faults [2], and this is the key to build distributed trustworthiness among users. The blockchain is proposed as a foundational technology of Bitcoin, which is a peer-to-peer based distributed ledger for establishing trust. More recently, various blockchain consensus mechanisms have been proposed [1] and most of them are based on three mainstream mechanisms, namely, Proof of Work (PoW), Proof of Stake (PoS) and Direct Acyclic Graph (DAG) [3][4][5]. As the first blockchain, Bitcoin is the most famous project with the highest market value [6], which is based on PoW. PoS, which is the future plan of Ethereum [7], has been proposed to address the limitation of PoW and adopted in various blockchain systems, such as Nxt. In order to improve the processing rate to face the exponential increase of transactions, the DAG-based blockchain is developed by IOTA and Byteball [5] [8].</p>
        <p>Since PoW, PoS and DAG are widely used and most proposed consensus mechanisms are based on them, it is typical and meaningful to choose these consensus mechanisms for performance analysis and comparison.</p>
        <p>PoW is the most classical consensus mechanism in the blockchain that is pioneered by Bitcoin. Its core idea is that members of the system (miner) use their computing power to compete the hashing operation (SHA-256) [9].</p>
        <p>The winner who first finds the hash value lower than the announced target has the right to insert a new block into the blockchain and get a certain amount of reward.</p>
        <p>Different from PoW that consumes a lot of computing resources, PoS proposes a conception of coin age, which is unspent asset multiplied by its duration from the last winning time to the current time, to avoid high resource consumption of the competition process. In PoS, the consensus process also relies on the hashing operation, and a higher coin age will lead to a higher probability for the node to win the right of creating a new block. A typical PoS-based blockchain is Nxt [4]. As is well known, the above mentioned issues are very crucial in the blockchain applications, especially in IoT scenarios where the computational capacity and energy are limited and the network load is randomly generated.</p>
        <p>However, there lacks an analysis to provide an insightful understanding of these mechanisms. To this end, this work investigates the performance of PoW, PoS and DAG based blockchains with mathematical analysis.</p>
        <p>For a fair comparison and discussion, we assume that there are nodes running the PoW, PoS or DAG based blockchain in the system, where all nodes are connect directly in a single-hop network. We ignore the transmission delay in our analysis since it is much shorter than the computation time and new transaction arrival interval. we also assume that the maximum number of new transactions in a block in PoW and PoS is , and the queueing length at node is . In Tangle, the new transaction has to approve the previous transactions as soon as possible. Thus, any vertex in Tangle can be viewed as a block that only records one transaction, it is also called as a transaction instead of a block sometimes [5]. Therefore, we set = 1 in DAG.</p>
        <p>In addition, we consider that the new transaction follows</p>
        <p>Poisson distribution with the arrival rate at node , and that the weight of any transaction is 1 in DAG.</p>
        <p>In We introduce four metrics to evaluate the performance of the blockchain system. In order to show the performance of the consensus mechanism in the blockchain system, we define the average time to</p>
        <p>In this section, we present an analysis and comparison of the PoW, PoS and DAG based blockchains in terms of blocking efficiency, TPS, confirmed probability and confirmation delay to provide an easy-understanding for the three main consensus mechanisms.</p>
        <p>According to [12], all legal blocks must satisfy the following computing condition:</p>
        <p>where is the value obtained by hash operation and is the target difficulty. To win the hash operation competition, a miner must try its best (using all of the computational power) to find a to satisfy the above condition.</p>
        <p>Based on [12], to find a feasible , we can first obtain the mining time for node to generate in PoW ( ), which is a function of , where is the computational power at node for mining in PoW and the cumulative probability distribution can be expressed as</p>
        <p>In practical system, ≪ 1. In this case, log(1 -) ≈ and thus { ≤ } ≈ 1 -exp(-). Moreover, we can see that follows an exponential distribution with mean , and the expected mining time for miner</p>
        <p>Therefore, with miners, assume that each miner has , ' , . . . , ) with the corresponding mining time * , + , . . . , , , the average time to generate a new block in PoW ( - ./0 ) is the minimum time in them.</p>
        <p>According to the properties of the exponential distribution, we can have PoW requires to wait for an amount of cumulative blocks to confirm (: ./0 ). Thus, the confirmation delay can be written as ;</p>
        <p>./0 = : ./0 × - ./0 . (</p>
        <p>Due to the limitation of block size, no matter how many new transactions arrive in the duration of - ./0 , the maximum number of processed transactions cannot exceed the maximum blocksize, , which is between two consecutive blocks. Therefore, the TPS is determined by the block size limitation and the new transaction arrival rate , simultaneously, it can be calculated as follows: , the network load is light, and all new transactions could be fully recorded in a block period. In contrast, when</p>
        <p>, the network becomes heavily loaded and only transactions can be processed in -. Thus, the rest should wait in queue. If the queue is full, the new coming transaction would be discarded and the failure with happen (here we use FIFO).</p>
        <p>Consequently, the confirmation failure probability of PoW ( 3 ./0 ) can be calculated as follows:</p>
        <p>Similar with PoW, in PoS, all valid blocks also need to satisfy the condition ≤ -NO ×P ≤ 1, where QRS × is the coin age of miner , QRS denotes the balance (or say stake) of miner in the system, is the lifetime of QRS from the last winning time to the current time and it will be reset to zero when the miner wins. Similar with the analysis in PoW, the expected minimum mining time with miners to generate a new block in PoS ( - ./T ) is</p>
        <p>Since it needs waiting : ./T blocks to confirm the transaction, the confirmation delay in PoS ( ; ./T ) can be expressed as</p>
        <p>;</p>
        <p>./T = : ./T × - ./T ,</p>
        <p>Consequently, the TPS and the confirmation failure probability in PoS (similar with PoW) ( = ./T and 3 ./T ) can be calculated as follows:</p>
        <p>In this section, we evaluate the performance of PoW, which could be too long to meet the exponential growth of IoT applications [14]. Due to the multi-chain architecture, the new transaction can be inserted in DAG as soon as possible. Technically, there is no upper bound of TPS. In summary, through these simulations, we can see clearly the performances and differences of various widely used consensus mechanisms, and the impact of key parameters on the consensus process.</p>
        <p>As mentioned before, the consensus mechanism plays a key role on the performance of the blockchain. Except PoA solves Byzantine fault errors by adding validators to ensure that the whole network reaches an agreement.</p>
        <p>Note that the validator in the network must have an active notary public license in the United States with no criminal records. PoB is a method to overcome the disadvantage of PoW, which utilizes the idea of burning coins to reduce the need for powerful computational resources when mining. Unlike the coin standing for the stake as a deposit in PoS, the coin in PoB will disappear forever once it is burned to be proof. PBFT is a new state-machine replication algorithm working in an asynchronous system, and is able to tolerate Byzantine faults with the polynomial complexity of r(s ' ) .</p>
        <p>Hashgraph is a DAG-based blockchain. It relies on the gossip protocol and virtual vote mechanism to ensure that the algorithm can run efficiently and have high security in asynchronous environment.</p>
        <p>In [18], the authors established a mathematical model to analyze the Tangle system and proved the existence of Nash equilibria for the system where a part of players tried to optimize their attachment strategies. In [19], the authors analyzed the block withholding attack in Bitcoins and proposed a strategy to deter the attack by blinding miners' ability. In [20], the authors developed a Last but not least, as this work is only based on mathematical analysis and computational simulation, we are going to design a practical and realistic blockchain system for more experiments.</p>
        <p>In this work, we analyze and discuss the consensus</p>
        <p>-./0 = 123 min{ * , + , . . . , , } = ∑ ,</p>
        <p>This work was supported in part by the State Major Science and Technology Special Project (2018ZX033001023), in part by the National Program for Special Support of Eminent Professionals, in part by the National Natural Science Foundation of China (61701059, 61831002 and 61671096), in part by the Eighteenth Open Foundation of State Key Lab of Integrated Services Networks of Xidian University (ISN20-05), in part by Chongqing Research Program of Basic Science and Frontier Technology(cstc2017jcyjBX0005), in part by the Chongqing Science and Technology Innovation Leading Talent Support Program (CSTCCXLJRC201710), and in part by Chongqing Technological Innovation and Application Development Projects (cstc2019jscx-msxm1322)</p>
        <p>We declare that we have no financial and personal relationships with other people or organizations that can inappropriately influence our work, there is no professional or other personal interest of any nature or kind in any product, service and/or company that could be construed as influencing the position presented in, or the review of, the manuscript entitled.</p>
        <p>Authors: Bin Cao, Zhenghui Zhang, Daquan Feng, Shengli Zhang, Lei Zhang, Mugen Peng, Yun Li</p>
    </text>
</tei>
