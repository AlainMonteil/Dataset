<?xml version="1.0" encoding="UTF-8"?>
<tei xmlns="http://www.tei-c.org/ns/1.0">
    <teiHeader>
        <fileDesc xml:id="_1"/>
        <encodingDesc>
            <appInfo>
                <application version="0.8.1-SNAPSHOT" ident="GROBID" when="2024-06-14T08:13+0000">
                    <ref target="https://github.com/kermitt2/grobid">A machine learning software for extracting information from scholarly documents</ref>
                </application>
            </appInfo>
        </encodingDesc>
    </teiHeader>
    <text xml:lang="en">
        <p>The idea that organisms are not equal in their attributes and functions-that is, the range of things they do (Petchey &amp; Gaston, 2006)-is old. For example, as early as the fourth century BC Theophrastus recognised that plants can be classified into groups sharing similar characteristics (traits) such as woodiness and size. Similar pioneer observations found a more formal definition with the introduction of the concept of the ecological niche (Elton, 1927;Grinnell, 1917;Hutchinson, 1957) and the subsequent emergence of functional ecology as a scientific discipline (Calow, 1987). When the homonymous journal Functional Ecology was launched in 1987, its Editorial Board was cautious, perhaps even skeptical, about the potential success of this discipline. They wrote: 'Your immediate reactionThe idea that organisms are not equal in their attributes and functions-that is, the range of things they do (Petchey &amp; Gaston, 2006)-is old. For example, as early as the fourth century BC Theophrastus recognised that plants can be classified into groups sharing similar characteristics (traits) such as woodiness and size. Similar pioneer observations found a more formal definition with the introduction of the concept of the ecological niche (Elton, 1927;Grinnell, 1917;Hutchinson, 1957) and the subsequent emergence of functional ecology as a scientific discipline (Calow, 1987). When the homonymous journal Functional Ecology was launched in 1987, its Editorial Board was cautious, perhaps even skeptical, about the potential success of this discipline. They wrote: 'Your immediate reaction</p>
        <p>to this first issue [...] might be to throw up your arms in despair at the thought of yet another primary, scientific journal' (Editorial, 1987). It made us smile to read at this editorial with hindsight, now that functional information proved to be a key pillar of modern ecology (de Bello, Carmona, et al., 2021;Malaterre et al., 2019) and an important dimension of biodiversity (Jarzyna &amp; Jetz, 2016).to this first issue [...] might be to throw up your arms in despair at the thought of yet another primary, scientific journal' (Editorial, 1987). It made us smile to read at this editorial with hindsight, now that functional information proved to be a key pillar of modern ecology (de Bello, Carmona, et al., 2021;Malaterre et al., 2019) and an important dimension of biodiversity (Jarzyna &amp; Jetz, 2016).</p>
        <p>Over the past two decades, we have witnessed an exponential growth of trait-based studies. This was primarily driven by a number of seminal essays that illustrated a way of rethinking entire ecological fields from a functional perspective, from population and community ecology (McGill et al., 2006;Violle et al., 2012) to biogeography (Violle et al., 2014), along with conservation biology (Cadotte et al., 2011;Rosenfeld, 2002;Wellnitz &amp; Poff, 2001). Stemming from this intellectual legacy, the use of functional diversity in the study of ecological patterns across different spatial and temporal scales has now become routine (Jarzyna &amp; Jetz, 2018;Kraft &amp; Ackerly, 2010;Lamanna et al., 2014;Mason &amp; De Bello, 2013;Safi et al., 2011).Over the past two decades, we have witnessed an exponential growth of trait-based studies. This was primarily driven by a number of seminal essays that illustrated a way of rethinking entire ecological fields from a functional perspective, from population and community ecology (McGill et al., 2006;Violle et al., 2012) to biogeography (Violle et al., 2014), along with conservation biology (Cadotte et al., 2011;Rosenfeld, 2002;Wellnitz &amp; Poff, 2001). Stemming from this intellectual legacy, the use of functional diversity in the study of ecological patterns across different spatial and temporal scales has now become routine (Jarzyna &amp; Jetz, 2018;Kraft &amp; Ackerly, 2010;Lamanna et al., 2014;Mason &amp; De Bello, 2013;Safi et al., 2011).</p>
        <p>This fast theoretical development was accompanied by a proliferation of methods for studying functional diversity (de Bello, Carmona, et al., 2021;Legras et al., 2018). There is nowadays a wide variety of algorithms and frameworks (hereafter 'methods') that can be used to delineate the trait space occupied by a given species or community, each based on particular mathematical objects-raw data, distance matrices, trees, convex hulls, kernel density hypervolumes, etc. (see Table 1 for a glossary). Once the trait space is generated, an even larger set of indices (hereafter 'metrics') is available to calculate specific properties of the system (Pavoine &amp; Bonsall, 2011;Schleuter et al., 2010). Albeit this broad availability of methods and metrics is fuelling gigantic leaps forward in our understanding of ecosystem functionality, it has been pointed out that it is also '[...] causing much confusion in selecting appropriate methods for specific questions' (Carmona et al., 2016b).This fast theoretical development was accompanied by a proliferation of methods for studying functional diversity (de Bello, Carmona, et al., 2021;Legras et al., 2018). There is nowadays a wide variety of algorithms and frameworks (hereafter 'methods') that can be used to delineate the trait space occupied by a given species or community, each based on particular mathematical objects-raw data, distance matrices, trees, convex hulls, kernel density hypervolumes, etc. (see Table 1 for a glossary). Once the trait space is generated, an even larger set of indices (hereafter 'metrics') is available to calculate specific properties of the system (Pavoine &amp; Bonsall, 2011;Schleuter et al., 2010). Albeit this broad availability of methods and metrics is fuelling gigantic leaps forward in our understanding of ecosystem functionality, it has been pointed out that it is also '[...] causing much confusion in selecting appropriate methods for specific questions' (Carmona et al., 2016b).</p>
        <p>In our view, this confusion is the direct consequence of two drivers. First, there have been few efforts to compare each method to illustrate their strengths, weaknesses and limitations. Our experiences as reviewers and editors of manuscripts, readers of the existing literature and instructors of early career scientists have led us to think that most users routinely use a single method or metric just because it has been published in a famous paper or it appears in the first page of Google, and not because it better fits their question and data. Second, researchers developing the statistics underlying functional diversity approaches often provided the user with a limited selection of functions for calculating functional metrics or used different denominations to metrics with similar properties.In our view, this confusion is the direct consequence of two drivers. First, there have been few efforts to compare each method to illustrate their strengths, weaknesses and limitations. Our experiences as reviewers and editors of manuscripts, readers of the existing literature and instructors of early career scientists have led us to think that most users routinely use a single method or metric just because it has been published in a famous paper or it appears in the first page of Google, and not because it better fits their question and data. Second, researchers developing the statistics underlying functional diversity approaches often provided the user with a limited selection of functions for calculating functional metrics or used different denominations to metrics with similar properties.</p>
        <p>In the last decade or so, there have been subsequent attempts to categorise functional metrics and explore their usefulness in discriminating different processes (e.g. Mason et al., 2005;Mouchet et al., 2010;Ricotta, 2007;Villéger et al., 2008). Building upon this ground, Pavoine and Bonsall (2011) provided a broad clarification of the mathematics underpinning this plethora of metrics, categorising them under three independent dimensions of richness, divergence and regularity (Box 1). The Pavoine-Bonsall scheme is compelling, allowing the grouping of taxonomic, phylogenetic and functional metrics under a common umbrella that well encapsulates a modern view on biodiversity (Jarzyna &amp; Jetz, 2016). Yet, the classification still presents limitations (e.g. it does not account for a beta-diversity level; Box 1) and was not fully incorporated in the available statistical packages for functional diversity calculation, which often provide the user with an incoherent set of metrics to explore these three dimensions.In the last decade or so, there have been subsequent attempts to categorise functional metrics and explore their usefulness in discriminating different processes (e.g. Mason et al., 2005;Mouchet et al., 2010;Ricotta, 2007;Villéger et al., 2008). Building upon this ground, Pavoine and Bonsall (2011) provided a broad clarification of the mathematics underpinning this plethora of metrics, categorising them under three independent dimensions of richness, divergence and regularity (Box 1). The Pavoine-Bonsall scheme is compelling, allowing the grouping of taxonomic, phylogenetic and functional metrics under a common umbrella that well encapsulates a modern view on biodiversity (Jarzyna &amp; Jetz, 2016). Yet, the classification still presents limitations (e.g. it does not account for a beta-diversity level; Box 1) and was not fully incorporated in the available statistical packages for functional diversity calculation, which often provide the user with an incoherent set of metrics to explore these three dimensions.</p>
        <p>Altogether, these shortcomings generate a fertile ground for terminological and conceptual confusion, which leads to a parallel BOX 1 The Pavoine-Bonsall scheme for classifying taxonomic, phylogenetic and functional metrics Pavoine and Bonsall (2011) proposed a semantic taxonomy for classifying taxonomic, phylogenetic and functional metrics under a unified scheme. This classification was further improved by Tucker et al. (2017), who identified three distinct dimensions of diversity: richness, divergence and regularity. These three dimensions capture the primary mathematical operation inherent in each metric, namely:Altogether, these shortcomings generate a fertile ground for terminological and conceptual confusion, which leads to a parallel BOX 1 The Pavoine-Bonsall scheme for classifying taxonomic, phylogenetic and functional metrics Pavoine and Bonsall (2011) proposed a semantic taxonomy for classifying taxonomic, phylogenetic and functional metrics under a unified scheme. This classification was further improved by Tucker et al. (2017), who identified three distinct dimensions of diversity: richness, divergence and regularity. These three dimensions capture the primary mathematical operation inherent in each metric, namely:</p>
        <p>1. The 'richness' dimension encompasses metrics reflecting the sum of differences among observations; 2. The 'divergence' dimension encompasses metrics reflecting the average differences among observations; and 3. The 'regularity' dimension encompasses metrics reflecting how regular the differences among observations are. This scheme is general as it can be applied to both abundance, presence/absence or other data, and provides a simple and intuitive rationale for grouping functional metrics. The classification scheme is also split on a second axis of information, reflecting the level of data organisation at which each metric is calculated (Group). In their classification of phylogenetic indices, Tucker et al. used two levels of organisation, depending whether each metric is calculated within a set (e.g. individuals within a species or species within a community; so-called α-diversity) or between sets (e.g. comparison of multiple species or communities in space and time; so-called β-diversity). Here, we expanded this second axis of information to three levels of organisation, namely:1. The 'richness' dimension encompasses metrics reflecting the sum of differences among observations; 2. The 'divergence' dimension encompasses metrics reflecting the average differences among observations; and 3. The 'regularity' dimension encompasses metrics reflecting how regular the differences among observations are. This scheme is general as it can be applied to both abundance, presence/absence or other data, and provides a simple and intuitive rationale for grouping functional metrics. The classification scheme is also split on a second axis of information, reflecting the level of data organisation at which each metric is calculated (Group). In their classification of phylogenetic indices, Tucker et al. used two levels of organisation, depending whether each metric is calculated within a set (e.g. individuals within a species or species within a community; so-called α-diversity) or between sets (e.g. comparison of multiple species or communities in space and time; so-called β-diversity). Here, we expanded this second axis of information to three levels of organisation, namely:</p>
        <p>1. 'Observation level', representing the distinct functional elements within a set (e.g. an individual, population or species); 2. 'Within groups', representing all the Observation level elements within a set (e.g. functional diversity within a population, species, community or region); and 3. 'Between groups', comparing multiple Groups (e.g. comparison of multiple populations, species, communities or regions in space and time). confusion about the selection of the most appropriate methods and metrics for addressing any particular ecological question. This hampers the potential for comparative studies and meta-analyses, meanwhile preventing a full understanding of the eco-evolutionary rationale beyond functional diversity estimation. We aim, therefore, to propose a classification of the existing jungle of functional methods, dimensions and metrics. To achieve this goal, we first review the main frameworks and 
            <rs type="software">R</rs> packages for estimating functional diversity that are emerging in trait-based ecology. We explain the ecological logic underpinning each framework (i.e. how each method relates to the concept of niche) and discuss their pros and cons. We then illustrate the meaning of the three dimensions of functional diversityrichness, divergence and regularity (Box 1)-in the context of each of these methods. Finally, we present the metrics quantifying each dimension within each method and which 
            <rs type="software">R</rs> packages calculate them.
        </p>
        <p>Our ultimate goal is to develop a roadmap to select the best possible functional diversity approach depending on the question under study.Our ultimate goal is to develop a roadmap to select the best possible functional diversity approach depending on the question under study.</p>
        <p>Stemming from the concept of the ecological guild, the simplest mathematical estimation of functional diversity can be achieved using a raw data matrix of traits, whereby total functional richness is calculated as the number of unique functional combinations (guilds) in a given set of observations (Blondel, 2003). Although the idea of guild provides an intuitive representation of functional diversity, researchers soon felt that this approach was too simplistic (Legras et al., 2018). A plethora of more sophisticated methods has since been developed to represent the observed diversity of traits in a system and their relations. We will refer to this representation of the diversity of traits as the 'trait space' throughout this review (Table 1).Stemming from the concept of the ecological guild, the simplest mathematical estimation of functional diversity can be achieved using a raw data matrix of traits, whereby total functional richness is calculated as the number of unique functional combinations (guilds) in a given set of observations (Blondel, 2003). Although the idea of guild provides an intuitive representation of functional diversity, researchers soon felt that this approach was too simplistic (Legras et al., 2018). A plethora of more sophisticated methods has since been developed to represent the observed diversity of traits in a system and their relations. We will refer to this representation of the diversity of traits as the 'trait space' throughout this review (Table 1).</p>
        <p>Rather than overviewing all published and used methods, which would probably create further confusion, we seek to illustrate a way to frame the plethora of possibilities for trait space analyses. We chose to only discuss methods that:Rather than overviewing all published and used methods, which would probably create further confusion, we seek to illustrate a way to frame the plethora of possibilities for trait space analyses. We chose to only discuss methods that:</p>
        <p>1. Are open and free, which today practically coincide with packages and functions implemented and maintained in 
            <rs type="software">R</rs> (Lai et al., 2019); 2. Are accessible to the largest possible audience, namely methods that are thoroughly documented and thereby do not require a high level of knowledge in mathematics, statistics or programming; and 3. Are based on robust mathematical concepts that provide an easyto-understand representation of the trait space.
        </p>
        <p>In our view, two general mathematical approaches for estimating the trait space and its properties are prevailing in recent literature: those based on non-ordinated matrices (nondimensional representation) and those based on ordinated multidimensional spaces (i.e. multidimensional representation). We hereafter briefly describe each of these methods, discuss their strengths and weaknesses (Table 2), and list the main 
            <rs type="software">R</rs> packages (Table 2) and functions (Table 3) that can be used for practical calculations.
        </p>
        <p>TA B L E 1 Glossary of terms. Modified from Guillerme et al. (2020) ade4 (Dray &amp; Dufour, 2007); adiv a (Pavoine, 2020); BAT a (Cardoso et al., 2015(Cardoso et al., , 2021));TA B L E 1 Glossary of terms. Modified from Guillerme et al. (2020) ade4 (Dray &amp; Dufour, 2007); adiv a (Pavoine, 2020); BAT a (Cardoso et al., 2015(Cardoso et al., , 2021));</p>
        <p>entropart (Marcon &amp; Hérault, 2015); FD a (Laliberté et al., 2014); funrar a (Grenié et al., 2017); hillR a (Li, 2018); picante (Kembel et al., 2010); TPD a (Carmona, 2019) Functional dendrogram (= functional tree) Intuitive visual presentation, potentially allows the calculation of all functional diversity metrics by hand (easy error checking) The theoretical understanding of tree objects properties is vast, thanks to a long tradition of phylogenetic studies Can be applied to other aspects of diversity (taxonomic, phylogenetic) using a single coherent mathematical framework based on trees (Cardoso et al., 2015) Not sensitive to abundances when calculating richness Choice of distance measure for tree estimation is not trivial; should be considered carefully as it may affect results significantly (Podani &amp; Schmera, 2006) Not intuitively linked to the concept of ecological niche 3)entropart (Marcon &amp; Hérault, 2015); FD a (Laliberté et al., 2014); funrar a (Grenié et al., 2017); hillR a (Li, 2018); picante (Kembel et al., 2010); TPD a (Carmona, 2019) Functional dendrogram (= functional tree) Intuitive visual presentation, potentially allows the calculation of all functional diversity metrics by hand (easy error checking) The theoretical understanding of tree objects properties is vast, thanks to a long tradition of phylogenetic studies Can be applied to other aspects of diversity (taxonomic, phylogenetic) using a single coherent mathematical framework based on trees (Cardoso et al., 2015) Not sensitive to abundances when calculating richness Choice of distance measure for tree estimation is not trivial; should be considered carefully as it may affect results significantly (Podani &amp; Schmera, 2006) Not intuitively linked to the concept of ecological niche 3)</p>
        <p>Curse of dimensionality (Bellman, 1957): a linear increase in the number of dimensions requires an exponential increase in the number of observations. Also, computation time scales exponentially with the number of dimensions (Blonder, 2016;Guillerme et al., 2020;Mammola, 2019) Do not allow the existence of variable densities in the trait space-'convex hull expectation' (Blonder, 2016) Extremely sensitive to outliers: a single functionally distinct observation may significantly affect the estimation of the volume Performs poorly with low sample size Cannot consider abundances when calculating richness Categorical traits are not fully implemented in the calculation-although possibilities do exist (e.g. Carvalho &amp; Cardoso, 2020;Lloyd, 2016Lloyd, , 2018) et al., 2018);Curse of dimensionality (Bellman, 1957): a linear increase in the number of dimensions requires an exponential increase in the number of observations. Also, computation time scales exponentially with the number of dimensions (Blonder, 2016;Guillerme et al., 2020;Mammola, 2019) Do not allow the existence of variable densities in the trait space-'convex hull expectation' (Blonder, 2016) Extremely sensitive to outliers: a single functionally distinct observation may significantly affect the estimation of the volume Performs poorly with low sample size Cannot consider abundances when calculating richness Categorical traits are not fully implemented in the calculation-although possibilities do exist (e.g. Carvalho &amp; Cardoso, 2020;Lloyd, 2016Lloyd, , 2018) et al., 2018);</p>
        <p>All these methods rely on converting the trait matrix to a dissimilarity matrix; in turn, this transformed matrix serves to delineate the trait space and explore its properties. Here, we distinguished between methods and metrics that attempt to measure the entropy of the trait space as the dissimilarity among observations directly and those that use a distance-based dendrogram object to represent the trait space.All these methods rely on converting the trait matrix to a dissimilarity matrix; in turn, this transformed matrix serves to delineate the trait space and explore its properties. Here, we distinguished between methods and metrics that attempt to measure the entropy of the trait space as the dissimilarity among observations directly and those that use a distance-based dendrogram object to represent the trait space.</p>
        <p>Whereas all these methods have several features that may make them advantageous over multidimensional frameworks, there are at least two main caveats that apply to all. Foremost, they do not relate well with the classical concept of niche sensu Hutchinson (1957) in that they do not organise the trait space according to defined niche axes. Second, the choice of the distance measure to use is not trivial, especially because a trait matrix is frequently a mixture of different datatypes-continuous, ordinal, categorical and binary data-and this can significantly affect results (Podani &amp; Schmera, 2006).Whereas all these methods have several features that may make them advantageous over multidimensional frameworks, there are at least two main caveats that apply to all. Foremost, they do not relate well with the classical concept of niche sensu Hutchinson (1957) in that they do not organise the trait space according to defined niche axes. Second, the choice of the distance measure to use is not trivial, especially because a trait matrix is frequently a mixture of different datatypes-continuous, ordinal, categorical and binary data-and this can significantly affect results (Podani &amp; Schmera, 2006).</p>
        <p>The methods in this category are based on the notion that functional diversity represents the extent of trait differences between species (de Bello et al., 2016;Scheiner et al., 2017). These methods do not 3. Mean pairwise dissimilarity (MPD), representing the expected dissimilarity between two randomly selected species without replacement (Weiher &amp; Keddy, 1995); and 4. Hill numbers, representing the effective number of equally abundant and functionally distinct species within a group (Chiu &amp; Chao, 2014).The methods in this category are based on the notion that functional diversity represents the extent of trait differences between species (de Bello et al., 2016;Scheiner et al., 2017). These methods do not 3. Mean pairwise dissimilarity (MPD), representing the expected dissimilarity between two randomly selected species without replacement (Weiher &amp; Keddy, 1995); and 4. Hill numbers, representing the effective number of equally abundant and functionally distinct species within a group (Chiu &amp; Chao, 2014).</p>
        <p>The differences between these metrics are subtle, but with important practical consequences. Both Rao and FDis have the same mathematical basis as variance (Pavoine &amp; Bonsall, 2011) , 2014;De Bello et al., 2010;Hevia et al., 2016). Another advantage is that all these metrics allow the incorporation of information on species abundances on estimations of functional diversity, as well as using trait data containing missing information (as long as the dissimilarity index chosen allows for it).The differences between these metrics are subtle, but with important practical consequences. Both Rao and FDis have the same mathematical basis as variance (Pavoine &amp; Bonsall, 2011) , 2014;De Bello et al., 2010;Hevia et al., 2016). Another advantage is that all these metrics allow the incorporation of information on species abundances on estimations of functional diversity, as well as using trait data containing missing information (as long as the dissimilarity index chosen allows for it).</p>
        <p>Yet, they present disadvantages as well (Table 2). Besides the general caveats discussed before, probably the main limit is that there is no single mean dissimilarity metric able to measure the richness, divergence and regularity components of the trait space. WhileYet, they present disadvantages as well (Table 2). Besides the general caveats discussed before, probably the main limit is that there is no single mean dissimilarity metric able to measure the richness, divergence and regularity components of the trait space. While</p>
        <p>Rao and related metrics are well suited to estimate the divergence component, they do not serve well in other research scenarios. Also, a consequence of the mathematical relationship between Rao (and, as a corollary, of FDis) and Simpson's index is that Rao is not independent of species richness, but rather has an asymptotically increasing relationship with it (Carmona, Guerrero, et al., 2017).Rao and related metrics are well suited to estimate the divergence component, they do not serve well in other research scenarios. Also, a consequence of the mathematical relationship between Rao (and, as a corollary, of FDis) and Simpson's index is that Rao is not independent of species richness, but rather has an asymptotically increasing relationship with it (Carmona, Guerrero, et al., 2017).</p>
        <p>In a milestone paper, Petchey and Gaston (2002) proposed to represent the trait space of a given community or site as the dendrogram of the functional relationships (distances) among species, whereby total functional richness can be calculated as the total branch length of the tree. A dendrogram representation of the trait space is graphically intuitive, allowing the visualisation of functional relations among species or individuals. Moreover, this way of calculating the trait space is strongly linked with tree-based phylogenetic diversity (Faith, 1992), thereby offering a congruent framework based on tree objects for comparing different dimen-In a milestone paper, Petchey and Gaston (2002) proposed to represent the trait space of a given community or site as the dendrogram of the functional relationships (distances) among species, whereby total functional richness can be calculated as the total branch length of the tree. A dendrogram representation of the trait space is graphically intuitive, allowing the visualisation of functional relations among species or individuals. Moreover, this way of calculating the trait space is strongly linked with tree-based phylogenetic diversity (Faith, 1992), thereby offering a congruent framework based on tree objects for comparing different dimen-</p>
        <p>dendrogram-based representation of the trait space presents, of course, disadvantages as well (Table 2). Beside the one previously discussed about the lack of direct relationship with species niches, dendrograms might change the between-species dissimilarities compared with the dissimilarity matrix initially used to build them (Maire et al., 2015;Mouchet et al., 2008).dendrogram-based representation of the trait space presents, of course, disadvantages as well (Table 2). Beside the one previously discussed about the lack of direct relationship with species niches, dendrograms might change the between-species dissimilarities compared with the dissimilarity matrix initially used to build them (Maire et al., 2015;Mouchet et al., 2008).</p>
        <p>Making the closest analogy with the Hutchinsonian niche, Rosenfeld The interest in multidimensional representations of the trait space (and of the ecological niche; Holt, 2009) is growing. For example, it has been ironically pointed out that there are now probably 'as many definitions of these multidimensional spaces [...] as there are questions that can be tackled with such methods' (Guillerme, 2018).Making the closest analogy with the Hutchinsonian niche, Rosenfeld The interest in multidimensional representations of the trait space (and of the ecological niche; Holt, 2009) is growing. For example, it has been ironically pointed out that there are now probably 'as many definitions of these multidimensional spaces [...] as there are questions that can be tackled with such methods' (Guillerme, 2018).</p>
        <p>Here, in a way of synthesis, we grouped methods into two families:Here, in a way of synthesis, we grouped methods into two families:</p>
        <p>those that achieve a binary description of the trait space depending on whether it is occupied or not, and those that achieve a probabilistic description of the trait space by modelling the density of observations.those that achieve a binary description of the trait space depending on whether it is occupied or not, and those that achieve a probabilistic description of the trait space by modelling the density of observations.</p>
        <p>A convex hull-the smallest convex polyhedron surrounding a set of observations-is arguably the simplest type of hypervolume and provides an intuitive geometrical representation of the trait space that easily embodies the often continuous nature of species' traits (Cornwell et al., 2006). This approach was first introduced byA convex hull-the smallest convex polyhedron surrounding a set of observations-is arguably the simplest type of hypervolume and provides an intuitive geometrical representation of the trait space that easily embodies the often continuous nature of species' traits (Cornwell et al., 2006). This approach was first introduced by</p>
        <p>Cornwell et al. ( 2006) and later popularised by Villéger et al. (2008) who described a way to use convex hulls for functional richness estimation and to explore turnover among communities (Villéger et al., 2013). Convex hulls have a long tradition of use in functional ecology, and their performance has been tested across most kingdoms of life, biomes and spatial scales (Mouillot et al., 2021). A convex hull is advantageous over rectangular representation of the trait space because it excludes the 'missing corners' of irregular distributions. In n ≥ 2 dimensions, it also reduces the amount of empty space compared to (hyper-)cubes or (hyper-)spheres (Cornwell et al., 2006).Cornwell et al. ( 2006) and later popularised by Villéger et al. (2008) who described a way to use convex hulls for functional richness estimation and to explore turnover among communities (Villéger et al., 2013). Convex hulls have a long tradition of use in functional ecology, and their performance has been tested across most kingdoms of life, biomes and spatial scales (Mouillot et al., 2021). A convex hull is advantageous over rectangular representation of the trait space because it excludes the 'missing corners' of irregular distributions. In n ≥ 2 dimensions, it also reduces the amount of empty space compared to (hyper-)cubes or (hyper-)spheres (Cornwell et al., 2006).</p>
        <p>Finally, convex hulls potentially have faster computation times than probabilistic hypervolumes.Finally, convex hulls potentially have faster computation times than probabilistic hypervolumes.</p>
        <p>Yet, convex hulls have two main shortcomings in functional ecology (Table 2). First, they are very sensitive to outliers. Second, they can only be used to explore the richness dimension of functional diversity (Table 3). Furthermore, the space within extreme values of a convex hull is assumed to be homogeneous, implying that the trait space is uniformly occupied within extreme trait values (Blonder, 2016;Mammola &amp; Cardoso, 2020). This can be seen as either a limitation or a feature of this type of trait space representation, emphasising the intrinsic difference between convex hulls and probabilistic hypervolumes. To partly remedy this problem, Gruson (2020) recently proposed a way for creating 'concave' hulls (i.e. including voids or pockets) based on α-shapes. Whereas the approach was developed to estimate the colour volume of organisms, it could be easily generalised to other traits.Yet, convex hulls have two main shortcomings in functional ecology (Table 2). First, they are very sensitive to outliers. Second, they can only be used to explore the richness dimension of functional diversity (Table 3). Furthermore, the space within extreme values of a convex hull is assumed to be homogeneous, implying that the trait space is uniformly occupied within extreme trait values (Blonder, 2016;Mammola &amp; Cardoso, 2020). This can be seen as either a limitation or a feature of this type of trait space representation, emphasising the intrinsic difference between convex hulls and probabilistic hypervolumes. To partly remedy this problem, Gruson (2020) recently proposed a way for creating 'concave' hulls (i.e. including voids or pockets) based on α-shapes. Whereas the approach was developed to estimate the colour volume of organisms, it could be easily generalised to other traits.</p>
        <p>Rather than assuming that the trait space is homogeneous, as in a convex hull, density-based approaches allow the detection of areas of higher or lower density in the multidimensional space (Blonder, 2016). Thus, probabilistic hypervolumes reflect the notion that not all areas within the boundaries of a given trait space are filled with the same intensity. This representation of the trait space better reflects the concept of niche by Hutchinson (1957), who envisioned that a multidimensional niche should have internal differences in 'density'-although, at the time, there were no methods for similar computations.Rather than assuming that the trait space is homogeneous, as in a convex hull, density-based approaches allow the detection of areas of higher or lower density in the multidimensional space (Blonder, 2016). Thus, probabilistic hypervolumes reflect the notion that not all areas within the boundaries of a given trait space are filled with the same intensity. This representation of the trait space better reflects the concept of niche by Hutchinson (1957), who envisioned that a multidimensional niche should have internal differences in 'density'-although, at the time, there were no methods for similar computations.</p>
        <p>The popularity of probabilistic hypervolumes is steadily increasing in functional ecology, as testified by the number of R algorithms published in recent years allowing to delineate and/or analyse probabilistic hypervolumes (Blonder et al., 2014;Blonder et al., 2018;Brown et al., 2020;Carmona et al., 2019;Carvalho &amp; Cardoso, 2020;Junker et al., 2016;Lu et al., 2020;Mammola &amp; Cardoso, 2020;Swanson et al., 2015). Inevitably, these representations of the trait space, like any other, also present shortcomings, at least in their present formulation (Table 2). The plot density will depend on the method and parameters used, and there are no clear guidelines on the best options (Mammola, 2019). Also, these methods are computationally demanding, especially in high dimensions (Mammola &amp; Cardoso, 2020).The popularity of probabilistic hypervolumes is steadily increasing in functional ecology, as testified by the number of R algorithms published in recent years allowing to delineate and/or analyse probabilistic hypervolumes (Blonder et al., 2014;Blonder et al., 2018;Brown et al., 2020;Carmona et al., 2019;Carvalho &amp; Cardoso, 2020;Junker et al., 2016;Lu et al., 2020;Mammola &amp; Cardoso, 2020;Swanson et al., 2015). Inevitably, these representations of the trait space, like any other, also present shortcomings, at least in their present formulation (Table 2). The plot density will depend on the method and parameters used, and there are no clear guidelines on the best options (Mammola, 2019). Also, these methods are computationally demanding, especially in high dimensions (Mammola &amp; Cardoso, 2020).</p>
        <p>Most often than not, the reason for characterising a trait space is to explore its properties in relation to a research question of interest (Figure 1; Appendix S1). This can be achieved by interrogating the trait space at a specific level of organisation under the domain of richness, divergence and regularity. Here we propose a way to group existing functional metrics using a simple, unifying scheme (Table 3).Most often than not, the reason for characterising a trait space is to explore its properties in relation to a research question of interest (Figure 1; Appendix S1). This can be achieved by interrogating the trait space at a specific level of organisation under the domain of richness, divergence and regularity. Here we propose a way to group existing functional metrics using a simple, unifying scheme (Table 3).</p>
        <p>This is an attempt towards providing some order to the avalanche of available metrics, useful for applying the richness, divergence and regularity notions (Box 1) to different levels of organisation and spatial scales. Interestingly, besides emphasising how there is both complementarity and redundancy in the metrics for exploring the trait space, this exercise of classification allowed us to point to the existence of gaps in what is currently available, potentially stimulating future developments of new metrics.This is an attempt towards providing some order to the avalanche of available metrics, useful for applying the richness, divergence and regularity notions (Box 1) to different levels of organisation and spatial scales. Interestingly, besides emphasising how there is both complementarity and redundancy in the metrics for exploring the trait space, this exercise of classification allowed us to point to the existence of gaps in what is currently available, potentially stimulating future developments of new metrics.</p>
        <p>Existing metrics can be divided according to the level of data organisation at which they are calculated. Metrics can be calculated for individual observations (individuals, populations or species), within groups (e.g. individuals within a species or species within a community; so-called α-diversity), or between groups (e.g. comparison of multiple species or communities in space and time; so-called β-diversity).Existing metrics can be divided according to the level of data organisation at which they are calculated. Metrics can be calculated for individual observations (individuals, populations or species), within groups (e.g. individuals within a species or species within a community; so-called α-diversity), or between groups (e.g. comparison of multiple species or communities in space and time; so-called β-diversity).</p>
        <p>Observations contribute differently to the trait space occupied by a population, species or community, or to the differences between populations, species or communities. Different measures have been developed to reflect the position of an observation in the trait space relative to other observations, including originality, uniqueness and contribution (Table 3). All these measures quantify in different ways how dissimilar an observation is from all others and hence how much it adds to the group measures. This can be applied to the richness, divergence or regularity, allowing the mapping of the different components of functional rarity and commonness (Grenié et al., 2017;Kosman et al., 2019;Violle et al., 2017) at different scales of organisation (Carmona, de Bello, et al., 2017).Observations contribute differently to the trait space occupied by a population, species or community, or to the differences between populations, species or communities. Different measures have been developed to reflect the position of an observation in the trait space relative to other observations, including originality, uniqueness and contribution (Table 3). All these measures quantify in different ways how dissimilar an observation is from all others and hence how much it adds to the group measures. This can be applied to the richness, divergence or regularity, allowing the mapping of the different components of functional rarity and commonness (Grenié et al., 2017;Kosman et al., 2019;Violle et al., 2017) at different scales of organisation (Carmona, de Bello, et al., 2017).</p>
        <p>The within-group level, often referred to as alpha diversity or simply α, reflects the properties of a group of observations without reference to other groups. Observations add to the occupation of a given trait space that characterises in different ways a species or community. This is by far the most explored level in functional diversity studies.The within-group level, often referred to as alpha diversity or simply α, reflects the properties of a group of observations without reference to other groups. Observations add to the occupation of a given trait space that characterises in different ways a species or community. This is by far the most explored level in functional diversity studies.</p>
        <p>Differences between groups reflect the natural heterogeneity in nature, whereby populations, species and communities differ in space and time. Also called beta diversity or β, this property was first defined as the extent of change in community composition along gradients (Whittaker, 1960). Since then, the term has expanded its use, although always encompassing some kind of compositional heterogeneity or differentiation (Anderson et al., 2011;Tuomisto, 2010aTuomisto, , 2010b)). Importantly, two distinct processes shape species or communities and their functional differences: substitution of trait space and net gain or loss of trait space [see Carvalho and Cardoso (2020) for species and Cardoso et al. (2014) for communities]. When comparing groups, one may understand how niche shifting in space or time relates to competition or ecological release and consequent evolution of traits (Carvalho &amp; Cardoso, 2020), or to explore how trait diversity decays with spatial distance or change through time (Pavoine &amp; Bonsall, 2011).Differences between groups reflect the natural heterogeneity in nature, whereby populations, species and communities differ in space and time. Also called beta diversity or β, this property was first defined as the extent of change in community composition along gradients (Whittaker, 1960). Since then, the term has expanded its use, although always encompassing some kind of compositional heterogeneity or differentiation (Anderson et al., 2011;Tuomisto, 2010aTuomisto, , 2010b)). Importantly, two distinct processes shape species or communities and their functional differences: substitution of trait space and net gain or loss of trait space [see Carvalho and Cardoso (2020) for species and Cardoso et al. (2014) for communities]. When comparing groups, one may understand how niche shifting in space or time relates to competition or ecological release and consequent evolution of traits (Carvalho &amp; Cardoso, 2020), or to explore how trait diversity decays with spatial distance or change through time (Pavoine &amp; Bonsall, 2011).</p>
        <p>Once the level(s) of organisation of interest has been identified, one can explore the trait space by measuring its properties in the domain of richness, divergence and regularity (Box 1). Examples of specific research scenarios and questions in functional diversity are provided in Appendix S1.Once the level(s) of organisation of interest has been identified, one can explore the trait space by measuring its properties in the domain of richness, divergence and regularity (Box 1). Examples of specific research scenarios and questions in functional diversity are provided in Appendix S1.</p>
        <p>When estimating functional richness, one tries to answer questions related to the amount of trait space occupied by assemblages as well as how it varies in space and time. These include questions such as what ecological processes and ecosystem services we lose if a species goes extinct or a community change (Cadotte et al., 2011;Cooke et al., 2019), the filtering effect of a given habitat on species traits (Martínez et al., 2021;Micó et al., 2020), and how does the functionality of a community vary through seasons (Rocha et al., 2012). At a broader, macroecological scale, many studies have explored variations in functional richness along gradients of thermal seasonality (latitude; Graco-Roza et al., 2021;Lamanna et al., 2014;Schumm et al., 2019), glacier cover (Brown et al., 2018) or urbanisation (Buchholz et al., 2020;Sol et al., 2020). Mapping the richness of traits can also serve to identify areas of conservation priority based on criteria beyond species richness (Brum et al., 2017;Strecker et al., 2011). For example, one can estimate the importance of both common and rare species to the net ecosystem functionality (Chapman et al., 2018), define species-level conservation priorities (Davic, 2003;Kosman et al., 2019) and even compare extinction risk across different taxa (Carmona et al., 2021).When estimating functional richness, one tries to answer questions related to the amount of trait space occupied by assemblages as well as how it varies in space and time. These include questions such as what ecological processes and ecosystem services we lose if a species goes extinct or a community change (Cadotte et al., 2011;Cooke et al., 2019), the filtering effect of a given habitat on species traits (Martínez et al., 2021;Micó et al., 2020), and how does the functionality of a community vary through seasons (Rocha et al., 2012). At a broader, macroecological scale, many studies have explored variations in functional richness along gradients of thermal seasonality (latitude; Graco-Roza et al., 2021;Lamanna et al., 2014;Schumm et al., 2019), glacier cover (Brown et al., 2018) or urbanisation (Buchholz et al., 2020;Sol et al., 2020). Mapping the richness of traits can also serve to identify areas of conservation priority based on criteria beyond species richness (Brum et al., 2017;Strecker et al., 2011). For example, one can estimate the importance of both common and rare species to the net ecosystem functionality (Chapman et al., 2018), define species-level conservation priorities (Davic, 2003;Kosman et al., 2019) and even compare extinction risk across different taxa (Carmona et al., 2021).</p>
        <p>Metrics classified under the divergence component of functional diversity seek to assess differences among observations (Gregorius &amp; Kosman, 2017), namely the extent to which they spread across the occupied trait space (Anderson, 2006), usually relative to a mean or centroid (Mason et al., 2005;Villéger et al., 2008). A high dispersion is often interpreted as reflecting a high degree of competition between species with similar traits, and/or relaxed ecological filters (Perronne et al., 2017). Some authors also interpreted dispersion as a measure of functional redundancy (Galland et al., 2020), whereby, theoretically, less redundant communities should be those characterised by less stringent ecological filters (Ricotta et al., 2020).Metrics classified under the divergence component of functional diversity seek to assess differences among observations (Gregorius &amp; Kosman, 2017), namely the extent to which they spread across the occupied trait space (Anderson, 2006), usually relative to a mean or centroid (Mason et al., 2005;Villéger et al., 2008). A high dispersion is often interpreted as reflecting a high degree of competition between species with similar traits, and/or relaxed ecological filters (Perronne et al., 2017). Some authors also interpreted dispersion as a measure of functional redundancy (Galland et al., 2020), whereby, theoretically, less redundant communities should be those characterised by less stringent ecological filters (Ricotta et al., 2020).</p>
        <p>From the perspective of biological conservation, more functionally redundant systems should show greater resilience to perturbation (Mouillot et al., 2014), for example, when facing the extinction or disappearance of a single species, the roles performed by it can be done by functionally close species.From the perspective of biological conservation, more functionally redundant systems should show greater resilience to perturbation (Mouillot et al., 2014), for example, when facing the extinction or disappearance of a single species, the roles performed by it can be done by functionally close species.</p>
        <p>The regularity component, or evenness, reflects the regularity of observations' distribution within the trait space (Mouillot et al., 2005;Schleuter et al., 2010). In terms of raw data, regularity often measures the skewness of trait values; graphically, it can be seen as a measure of how harmonious the shape of the occupied trait space is-the symmetry of branches in a functional dendrogram or the regularity of the shape of a probabilistic hypervolume. Biologically speaking, regularity is used to examine the degree to which there is an effective use of the entire range of resources available to a given niche space (Mason et al., 2005). When the most abundant species share trait space one would expect a strong filtering of specific traits by the environment. Conversely, more regular spacing of trait values and a lower overlap among the traits of the most abundant species would imply a stronger effect of competitive exclusion (Perronne et al., 2017), although care should be taken when inferring assembly processes from functional diversity patterns (Kraft et al., 2015). A practical example comes from cave ecosystems, where the permanent darkness and the consequent lack of photosynthetic primary producers exert a strong filter that skews the total trait space towards the over-expression of traits of detritivorous and predators (Gibert &amp; Deharveng, 2002) or species employing particular hunting strategies (Cardoso, 2012).The regularity component, or evenness, reflects the regularity of observations' distribution within the trait space (Mouillot et al., 2005;Schleuter et al., 2010). In terms of raw data, regularity often measures the skewness of trait values; graphically, it can be seen as a measure of how harmonious the shape of the occupied trait space is-the symmetry of branches in a functional dendrogram or the regularity of the shape of a probabilistic hypervolume. Biologically speaking, regularity is used to examine the degree to which there is an effective use of the entire range of resources available to a given niche space (Mason et al., 2005). When the most abundant species share trait space one would expect a strong filtering of specific traits by the environment. Conversely, more regular spacing of trait values and a lower overlap among the traits of the most abundant species would imply a stronger effect of competitive exclusion (Perronne et al., 2017), although care should be taken when inferring assembly processes from functional diversity patterns (Kraft et al., 2015). A practical example comes from cave ecosystems, where the permanent darkness and the consequent lack of photosynthetic primary producers exert a strong filter that skews the total trait space towards the over-expression of traits of detritivorous and predators (Gibert &amp; Deharveng, 2002) or species employing particular hunting strategies (Cardoso, 2012).</p>
        <p>It is important to remember that the performance of each method and the overall quality of a functional diversity analysis depends on the quality of the experimental design and data. There are several issues concerning data quality and its exploration; we briefly touch upon the most relevant to the analytical framework here discussed (Figure 1).It is important to remember that the performance of each method and the overall quality of a functional diversity analysis depends on the quality of the experimental design and data. There are several issues concerning data quality and its exploration; we briefly touch upon the most relevant to the analytical framework here discussed (Figure 1).</p>
        <p>In exploring any trait matrix, one must be aware that it can be a mixture of different data types (numerical, ordered, fuzzy or categorical traits) that may or may not be correlated. To handle different data types in the same analysis, and depending on the assumptions of the functional diversity method of interest, one may need to standardise traits and transform the matrix with adequate distance measures and/or ordination methods (de Bello, Botta-Dukát, et al., 2021;Carvalho &amp; Cardoso, 2020;Lloyd, 2016;Mouillot et al., 2021). Correlations and graphical tools (e.g. scatterplots) can be used to inspect collinearity and, when appropriate, correlated traits can be dropped or summarised as principal component axes (Carvalho &amp; Cardoso, 2020). Finally, one has also to consider how to handle missing data (Johnson et al., 2021), trait variability (Carmona et al., 2019;De Bello et al., 2011;Wong &amp; Carmona, 2021), and other issues (Palacio et al., 2020;Si et al., 2018).In exploring any trait matrix, one must be aware that it can be a mixture of different data types (numerical, ordered, fuzzy or categorical traits) that may or may not be correlated. To handle different data types in the same analysis, and depending on the assumptions of the functional diversity method of interest, one may need to standardise traits and transform the matrix with adequate distance measures and/or ordination methods (de Bello, Botta-Dukát, et al., 2021;Carvalho &amp; Cardoso, 2020;Lloyd, 2016;Mouillot et al., 2021). Correlations and graphical tools (e.g. scatterplots) can be used to inspect collinearity and, when appropriate, correlated traits can be dropped or summarised as principal component axes (Carvalho &amp; Cardoso, 2020). Finally, one has also to consider how to handle missing data (Johnson et al., 2021), trait variability (Carmona et al., 2019;De Bello et al., 2011;Wong &amp; Carmona, 2021), and other issues (Palacio et al., 2020;Si et al., 2018).</p>
        <p>The number of traits for the trait space delineation is a critical feature as well. As the number of traits increases, multidimensional analyses will be subject to the 'curse of dimensionality' (Bellman, 1957). Dimensionality does not only increase computation F I G U R E 1 A general workflow for functional diversity analyses. The scheme is structured as a decision tree to guide the researcher throughout a hypothetical analysis. The Input data &amp; data exploration phase pertains to the assemblage of the observation (incidence, abundance, biomass, etc.) and trait matrices-the raw material for any functional diversity analysis. Once the data have been cleaned and inspected, one can move on and delineate and explore the trait space using one of the many approaches discussed in this review (Table 2). Then, the most appropriate metrics (Table 3) to characterise the properties of the trait space of interest depend on the research question of interest (Appendix S1)The number of traits for the trait space delineation is a critical feature as well. As the number of traits increases, multidimensional analyses will be subject to the 'curse of dimensionality' (Bellman, 1957). Dimensionality does not only increase computation F I G U R E 1 A general workflow for functional diversity analyses. The scheme is structured as a decision tree to guide the researcher throughout a hypothetical analysis. The Input data &amp; data exploration phase pertains to the assemblage of the observation (incidence, abundance, biomass, etc.) and trait matrices-the raw material for any functional diversity analysis. Once the data have been cleaned and inspected, one can move on and delineate and explore the trait space using one of the many approaches discussed in this review (Table 2). Then, the most appropriate metrics (Table 3) to characterise the properties of the trait space of interest depend on the research question of interest (Appendix S1)</p>
        <p>time, but it also affects the properties of the trait space. In a probabilistic hypervolume context, for example, the space occupation becomes sparser and tends to occur towards the boundaries of the hypervolume with increasing dimensionality (Blonder, 2016;Guillerme et al., 2020;Mammola, 2019). Also, hypervolume overlap can only decrease at increasing dimensionality, which directly affects the estimation of between-group metrics and redundancy (Carmona et al., 2016b;Mammola, 2019). Note, however, that this is often a consequence of a real biological feature: since two species can differ in so many traits, they are unlikely to overlap much when a high number of traits is considered.time, but it also affects the properties of the trait space. In a probabilistic hypervolume context, for example, the space occupation becomes sparser and tends to occur towards the boundaries of the hypervolume with increasing dimensionality (Blonder, 2016;Guillerme et al., 2020;Mammola, 2019). Also, hypervolume overlap can only decrease at increasing dimensionality, which directly affects the estimation of between-group metrics and redundancy (Carmona et al., 2016b;Mammola, 2019). Note, however, that this is often a consequence of a real biological feature: since two species can differ in so many traits, they are unlikely to overlap much when a high number of traits is considered.</p>
        <p>Ultimately, the choice of the number of traits depends on the overall sample size and the question posed, but there is no univocal agreement on this subject (Díaz et al., 2016;Laughlin, 2014;Legras et al., 2020). For example, analyses on plants suggest that our ability to predict community composition improves by adding new traits, reaching a plateau at four to eight traits depending on the system (Laughlin, 2014); however, when adding too many traits, estimation of functional diversity becomes unfeasible and/or unreliable. Future simulation studies comparing the performance of different techniques with different sample sizes and the number of traits could help to develop more precise guidelines in this sense.Ultimately, the choice of the number of traits depends on the overall sample size and the question posed, but there is no univocal agreement on this subject (Díaz et al., 2016;Laughlin, 2014;Legras et al., 2020). For example, analyses on plants suggest that our ability to predict community composition improves by adding new traits, reaching a plateau at four to eight traits depending on the system (Laughlin, 2014); however, when adding too many traits, estimation of functional diversity becomes unfeasible and/or unreliable. Future simulation studies comparing the performance of different techniques with different sample sizes and the number of traits could help to develop more precise guidelines in this sense.</p>
        <p>Finally, it is important to mention that a proper treatment of functional diversity analyses often requires using randomisation procedures to compare the observed patterns with null expectations (Gotelli &amp; Graves, 1996). Randomisation procedures are used to infer some particular process and/or to test hypotheses of interest, but also to break the trivial correlation between some functional diversity metrics and species richness. For example, since functional richness often increases as new organisms are included in a group, ecologists frequently perform null models to compare the observed values of functional richness with those that would be expected for the same number of species randomly assembled from the considered species pool (Carmona, Guerrero, et al., 2017;Petchey &amp; Gaston, 2002).Finally, it is important to mention that a proper treatment of functional diversity analyses often requires using randomisation procedures to compare the observed patterns with null expectations (Gotelli &amp; Graves, 1996). Randomisation procedures are used to infer some particular process and/or to test hypotheses of interest, but also to break the trivial correlation between some functional diversity metrics and species richness. For example, since functional richness often increases as new organisms are included in a group, ecologists frequently perform null models to compare the observed values of functional richness with those that would be expected for the same number of species randomly assembled from the considered species pool (Carmona, Guerrero, et al., 2017;Petchey &amp; Gaston, 2002).</p>
        <p>We here illustrated the emerging consensus on a few, nonoverlapping frameworks for delineating the trait space and measuring its properties. Our hope is that this synthesis, by digesting available concepts (Table 1), methods (Table 2) and metrics (Table 3), will offer a practical overview and workflow for streamlining functional diversity analyses (Figure 1). Five take-home messages emerge from this exercise:We here illustrated the emerging consensus on a few, nonoverlapping frameworks for delineating the trait space and measuring its properties. Our hope is that this synthesis, by digesting available concepts (Table 1), methods (Table 2) and metrics (Table 3), will offer a practical overview and workflow for streamlining functional diversity analyses (Figure 1). Five take-home messages emerge from this exercise:</p>
        <p>1. Do not mix apples and oranges. Many studies calculate properties of functional diversity with a cocktail of different methods and metrics. This is the case, for example, of many studies based on the 
            <rs type="software">R</rs> package 
            <rs type="software">FD</rs>, which estimates richness as the volume of a convex hull, divergence as the distance of the observations to a centroid or centre of gravity, and regularity with a minimum spanning tree (Laliberté &amp; Legendre, 2010;Laliberté et al., 2014;Villéger et al., 2008). Whenever possible, we recommend being consistent by choosing a single method for delineating the trait space (e.g. a functional dendrogram or a multivariate space) and sticking to it for exploring its properties in the dimensions of richness, divergence and regularity. In fact, by using a single method, one can be sure that a similar error and uncertainty applies to all the calculations. Conversely, if using different methods, it may be problematic to disentangle the effect of the ecological process(es) of interest from that of the different algorithms used. The same issue occurs when simultaneously studying functional and phylogenetic diversity with different frameworks (e.g. hypervolumes for the first and phylogenetic trees for the latter). Ideally, we want to remove one level of uncertainty in the results, the one associated with the choice of methods, even if others will necessarily remain.
        </p>
        <p>2. Be aware of uncertainty. In an ideal world, by calculating analogous metrics using different methods-for example, the functional richness calculated with a dendrogram or a convex hull-one would reach the same (or convergent) results. However, as emphasised by a few comparative studies across a selection of methods and metrics (Junker et al., 2016;Legras et al., 2020;Mammola &amp; Cardoso, 2020;Mouchet et al., 2010;Wong &amp; Carmona, 2021), this is rarely the case. Discrepancies are partly related to the intrinsic differences of each framework (Table 2), and partly to the scale of analysis and methodological choices on how to handle trait variability (Gentile et al., 2020;Wong &amp; Carmona, 2021), as well as the number of traits considered (Legras et al., 2020).2. Be aware of uncertainty. In an ideal world, by calculating analogous metrics using different methods-for example, the functional richness calculated with a dendrogram or a convex hull-one would reach the same (or convergent) results. However, as emphasised by a few comparative studies across a selection of methods and metrics (Junker et al., 2016;Legras et al., 2020;Mammola &amp; Cardoso, 2020;Mouchet et al., 2010;Wong &amp; Carmona, 2021), this is rarely the case. Discrepancies are partly related to the intrinsic differences of each framework (Table 2), and partly to the scale of analysis and methodological choices on how to handle trait variability (Gentile et al., 2020;Wong &amp; Carmona, 2021), as well as the number of traits considered (Legras et al., 2020).</p>
        <p>We believe it would be necessary to comprehensively analyse properties of the existing methods using either real-world data or simulations based on different combinations of traits, scales of organisation and input parameters. Until then, it is important to acknowledge that often we do not fully understand what each method and metric is exactly measuring.We believe it would be necessary to comprehensively analyse properties of the existing methods using either real-world data or simulations based on different combinations of traits, scales of organisation and input parameters. Until then, it is important to acknowledge that often we do not fully understand what each method and metric is exactly measuring.</p>
        <p>There are plenty of functional diversity methods and metrics out there, and many more will likely be developed in the future. While this is certainly disorienting for researchers approaching functional diversity analyses for the first time, choosing between seemingly equally appropriate options remains challenging even for experienced researchers (Cianciaruso et al., 2017). Inevitably, most researchers will tend to stick to their 'pet' approach. Yet, it is important to keep in mind that any analytical choice should always be fine-tuned to the ecological question of interest (Appendix S1) and the pros and cons of each method (Table 2), rather than subjective preferences.There are plenty of functional diversity methods and metrics out there, and many more will likely be developed in the future. While this is certainly disorienting for researchers approaching functional diversity analyses for the first time, choosing between seemingly equally appropriate options remains challenging even for experienced researchers (Cianciaruso et al., 2017). Inevitably, most researchers will tend to stick to their 'pet' approach. Yet, it is important to keep in mind that any analytical choice should always be fine-tuned to the ecological question of interest (Appendix S1) and the pros and cons of each method (Table 2), rather than subjective preferences.</p>
        <p>4. Indulge in the unknown. The existing breadth of metrics will never allow us to explore all the properties of the distribution of observations in a given trait space and to answer the potentially unlimited number of eco-evolutionary questions. When dealing with novel paradigms and systems, one will often have to develop metrics or functions de novo. If one lacks programming skills, there are tools that can facilitate this task (Guillerme, 2018;McPherson et al., 2018). For example, the dispRity framework (Guillerme, 2018;Guillerme et al., 2020) provides a modular architecture to create and test new metrics tailored to specific datasets and questions.4. Indulge in the unknown. The existing breadth of metrics will never allow us to explore all the properties of the distribution of observations in a given trait space and to answer the potentially unlimited number of eco-evolutionary questions. When dealing with novel paradigms and systems, one will often have to develop metrics or functions de novo. If one lacks programming skills, there are tools that can facilitate this task (Guillerme, 2018;McPherson et al., 2018). For example, the dispRity framework (Guillerme, 2018;Guillerme et al., 2020) provides a modular architecture to create and test new metrics tailored to specific datasets and questions.</p>
        <p>5. Make the best out of functional diversity. Developments in functional diversity are occurring rapidly. If one wants to make the best out of this exciting field of research, it is critical to keep up with the latest literature, but also to navigate the literature of other disciplines to drawn on methods and ideas. In fact, the proper treatment of functional diversity estimation is just one out of the many facets that one should consider. A careful design of the study is pivotal to any investigation of functional diversity; whenever possible, one should adopt a rigorous sampling design to strengthen the validity of the conclusions (Smith et al., 2017).5. Make the best out of functional diversity. Developments in functional diversity are occurring rapidly. If one wants to make the best out of this exciting field of research, it is critical to keep up with the latest literature, but also to navigate the literature of other disciplines to drawn on methods and ideas. In fact, the proper treatment of functional diversity estimation is just one out of the many facets that one should consider. A careful design of the study is pivotal to any investigation of functional diversity; whenever possible, one should adopt a rigorous sampling design to strengthen the validity of the conclusions (Smith et al., 2017).</p>
        <p>Also, data exploration is a central phase in any analysis (Zuur et al., 2009), and so is a proper hypothesis testing, often achievable via regression-type analyses (Zuur &amp; Ieno, 2016) and null modelling/randomisation procedures (Götzenberger et al., 2016).Also, data exploration is a central phase in any analysis (Zuur et al., 2009), and so is a proper hypothesis testing, often achievable via regression-type analyses (Zuur &amp; Ieno, 2016) and null modelling/randomisation procedures (Götzenberger et al., 2016).</p>
        <p>Only by integrating all these different aspects, one will maximise the usefulness of functional diversity to ecology and beyond.Only by integrating all these different aspects, one will maximise the usefulness of functional diversity to ecology and beyond.</p>
        <p>Thanks to Benjamin Blonder for comments on an early draft of the manuscript, to Diego Fontaneto for suggestions on the glossary and to Caio Graco Roza for useful discussions on functional diversity methods. Filipa Soares provided useful suggestions for Figure 1. for different sections, including terminology (Table 1). All authors contributed ideas, bibliographic suggestions and with the writing.Thanks to Benjamin Blonder for comments on an early draft of the manuscript, to Diego Fontaneto for suggestions on the glossary and to Caio Graco Roza for useful discussions on functional diversity methods. Filipa Soares provided useful suggestions for Figure 1. for different sections, including terminology (Table 1). All authors contributed ideas, bibliographic suggestions and with the writing.</p>
        <p>so that they are considered to be fundamentally equivalentso that they are considered to be fundamentally equivalent</p>
        <p>(de Bello, Carmona, et al., 2021)(de Bello, Carmona, et al., 2021)</p>
        <p>. Conversely, in MPD the expected dissimilarity is estimated only considering individuals from different species, thus it does not allow to account for intraspecific variability, unlike Rao. The great advantage of using mean dissimilarity methods versus others is their clear link with taxonomic and phylogenetic diversity (Chao a Packages with a large set of complementary functional metrics to explore the richness, divergence and regularity components of the trait space. TA B L E 2 (Continued) TA B L E 3 Abbreviation: n.a., No specific function available. REGULARITY (… BAT::kernel.beta. evenness et al.. Conversely, in MPD the expected dissimilarity is estimated only considering individuals from different species, thus it does not allow to account for intraspecific variability, unlike Rao. The great advantage of using mean dissimilarity methods versus others is their clear link with taxonomic and phylogenetic diversity (Chao a Packages with a large set of complementary functional metrics to explore the richness, divergence and regularity components of the trait space. TA B L E 2 (Continued) TA B L E 3 Abbreviation: n.a., No specific function available. REGULARITY (… BAT::kernel.beta. evenness et al.</p>
        <p>S.M. is supported by the European Union's Horizon 2020 research and innovation programme under grant agreement No. 882221. T.G. acknowledges funding by European Research Council Consolidator grant no. 615709 ToLERates and Royal Society University Research Fellowship UF120016 awarded to Gavin H. Thomas. C.P.C. was supported by the Estonian Ministry of Education and Research (PSG293) and the European Regional Development Fund (Centre of Excellence EcolChange).S.M. is supported by the European Union's Horizon 2020 research and innovation programme under grant agreement No. 882221. T.G. acknowledges funding by European Research Council Consolidator grant no. 615709 ToLERates and Royal Society University Research Fellowship UF120016 awarded to Gavin H. Thomas. C.P.C. was supported by the Estonian Ministry of Education and Research (PSG293) and the European Regional Development Fund (Centre of Excellence EcolChange).</p>
        <p>Additional supporting information may be found online in the Supporting Information section.Additional supporting information may be found online in the Supporting Information section.</p>
    </text>
</tei>
