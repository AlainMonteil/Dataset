<?xml version="1.0" encoding="UTF-8"?>
<tei xmlns="http://www.tei-c.org/ns/1.0">
    <teiHeader>
        <fileDesc xml:id="_1"/>
        <encodingDesc>
            <appInfo>
                <application version="0.8.1-SNAPSHOT" ident="GROBID" when="2024-06-25T07:00+0000">
                    <ref target="https://github.com/kermitt2/grobid">A machine learning software for extracting information from scholarly documents</ref>
                </application>
            </appInfo>
        </encodingDesc>
    </teiHeader>
    <text xml:lang="en">
        <p>We have developed a fast simulation program to study the performance of silicon and diamond detectors, Weightfield2. The program uses 
            <rs type="software">GEANT</rs>
            <rs type="version">4</rs> libraries to simulate the energy released by an incoming particle in silicon (or diamond), and Ramo's theorem to generate the induced signal current. A graphical interface allows the user to configure many input parameters such as the incident particle, sensor geometry, presence and value of internal gain, doping of silicon sensor and its operating conditions, the values of an external magnetic field, ambient temperature and thermal diffusion. A simplified electronics simulator is also implemented to include the response of an oscilloscope and front-end electronics. The program has been validated by comparing its predictions for minimum ionizing and α particles with measured signals and TCAD simulations, finding very good agreement in both cases.
        </p>
        <p>The program Weightfield2 (WF2) simulates the current signal in a silicon or diamond detector with pad geometry or segmented electrodes. It is implemented in C þ þ language within the ROOT [1] framework and makes use of the ROOT Graphical Interface (TGUI). The graphical interface allows the user to select simulation parameters such as the type of incident particle, the sensor geometry and type of doping, the depletion and bias voltages, to display the electric potential and the weighting field as well as the current signals and the effect of readout electronics.</p>
        <p>The initial version of the program, Weightfield, has been developed by 
            <rs type="creator">HEPHY Vienna</rs> [2]. WF2 retains the user interface and most of the code of Weightfield 1 , while adding many additional features.
        </p>
        <p>The WF2 graphical interface is divided into two main parts: the right side allows selecting the simulation parameters while the left side visualizes the results (Fig. 1). The right side is further divided into three panes: Control, Detector Properties and Electronics. From the Control pane it is possible to choose the running modes of the program (batch, precision, sampling rate), the type of incident particle (minimum ionizing, α particle), to add the effect of the magnetic field and that of thermal diffusion and to start and control the execution of the program. The Detector Properties pane gives the possibility to choose the type of material (silicon or diamond 2 ), the doping (p-type or n-type) of the strip and bulk, geometrical properties such as number of strips, sensor thickness, depletion and bias voltage, and to add and control the gain layer. Finally, the Electronics pane controls the parameters to configure a simplified simulation of the read-out electronics: an oscilloscope, a charge sensitive amplifier (CSA) and a current amplifier (CA). On the left side of the WF2 graphical interface the results of the simulation are displayed in four selectable tabs: (i) Drift Potential, 2 and 1-dimensional view of the electric potential and field, (ii) Weighting Potential, 2 and 1-dimensional view of the weighting potential and field, (iii) Currents and Oscilloscope, the current induced by the charge carriers moving inside the sensor and the output signal of a simulated oscilloscope, and (iv) Electronics, the signals of the configurable readout electronics. If the Batch mode is selected, this tab shows instead the time resolution obtained with the specified CSA and CA.</p>
        <p>Contents lists available at ScienceDirect journal homepage: www.elsevier.com/locate/nima Nuclear Instruments and Methods in Physics Research A</p>
        <p>The signal in a silicon sensor is given by the induced currents generated on the read-out electrodes by the motion of the electron-hole pairs. The signal starts when the charges begin to move inside the sensor and stops when the whole charge is collected. The magnitude of the instant induced current on an electrode i by a charge q is modeled by the Shockley-Ramo's theorem [3,4]:</p>
        <p>Fig. 1. Weightfield2 graphical interface.</p>
        <p>Fig. 2. Left side: the current signal of a sensor with charge multiplication is larger than that of a traditional sensor, due to the additional eÀ h pairs produced by electrons crossing the gain layer. Right side: the various components that make up the total current.</p>
        <p>where v(x) is the charge velocity and depends on the applied electric field E(x), x is the charge position, and E w is the weighting field. The weighting field is a function which describes the coupling between the charge at a given position x and the current induced on the readout electrode. E w (x) is determined by applying 1 V to the collecting electrode i and 0 V to the others. The weighting field depends uniquely on the sensor geometry and it is therefore independent of the bias voltage and sensor doping.</p>
        <p>With respect to a given electrode i, the currents induced by electrons and holes add up because they drift in opposite directions and the total current induced by an ionizing particle is obtained by summing up the contributions from all moving charges. The total charge in the current signal is proportional to the energy deposited by the ionizing particle.</p>
        <p>The electric field and the weighting field can be computed by solving Poisson's and Laplace's equations for the related potentials</p>
        <p>where ρ is the charge density and ϵ is the electric permittivity.</p>
        <p>WF2 performs the calculation iteratively by discretizing the equation on a grid. To obtain a faster calculation, the time required by the computation of the fields is reduced by implementing a multigrid structure, which allows to start the potential calculation on a coarser grid and then to refine it to a grid with halved mesh size at each iteration step (five steps, from 16 to 1 μm). Moreover, the solution of the equations for the potentials calculates the charge density ρ from the value of the depletion voltage rather than from the actual doping concentration, allowing a significant reduction of the simulation time. More details on the calculation algorithm can be found in [5].</p>
        <p>The drift potential is calculated by setting the n-doped electrodes to the bias voltage value and the backplane to 0 V for a n-in-p sensor, while p-doped electrodes to 0 V and the backplane to the bias voltage for a p-in-n sensor. For every point of the grid ½j; i, WF2 calculates numerically the electric and the weighting fields defined as E d ! ¼ À∇V d and E w ! ¼ À∇V w along the x and the y coordinates:</p>
        <p>where d is the sensor thickness, the index j runs from 0 to the selected sensor height and the index i runs from 0 to the sensor width.</p>
        <p>If the option to have an additional magnetic field is selected, the drift field is rotated by a Lorentz angle θ by the rotation matrix</p>
        <p>The program simulates the electron-hole pairs created by an ionizing particle by distributing charge carriers along an imaginary trajectory. The point where the particle hits the detector and the angle formed by the particles with the vertical are selectable in the graphical interface. The drift velocities for electrons and holes as implemented in the program are respectively where E d is the drift field, μ eðhÞ are the mobilities of electrons and holes respectively, while v eðhÞ;sat are the velocity saturation values occurring at high electric fields.</p>
        <p>WF2 allows the user to insert a gain layer at the p-n junction in order to simulate the behavior of sensors with internal charge multiplication. This feature is particularly useful for the development of Low Gain Avalanche Diodes and Ultra-Fast Silicon Detectors (UFSD) [6,7]. According to the theory of impact ionization model [8], the gain g in silicon detectors, defined as the ratio between the final and the initial number of e À h pairs, has an exponential dependency on the α multiplication coefficient and the distance traveled along the electric field d</p>
        <p>where the α coefficient depends on the local electric field giving rise to the multiplication, E local , and on a constant α c ¼ 1:8 Á 10 À 35</p>
        <p>The electric field in the gain layer is of the order of E local $ 10 5 kV=cm. The effect of charge multiplication is to add two more components to the total current: gain electrons and gain holes, which are the charge carriers produced by impact ionization inside the gain layer. These new contributions lead to an increase in the total collected charge, resulting in a larger signal. Fig. 2.a shows the current signals of a traditional 50 μm thick n-in-p sensor and that of an UFSD detector. Fig. 2b shows the various components that contribute to the total signal of a UFSD: the initial electrons entering the gain layer produce new e À h pairs, the gain electrons are immediately absorbed while the gain holes generate a large signal drifting to the anode.</p>
        <p>The gain mechanism is generated by electrons, however in some instances the holes can also contribute to the process. For this reason, the program allows to set the ratio of the h/e multiplication strength. By choosing a different type of bulk and electrode doping it is possible to reverse the gain layer position with respect to the readout electrode (Fig. 3).</p>
        <p>The program allows to select different types of incident particle: (i) Minimum Ionizing Particle (MIP) with a uniform charge deposition of 75 e À h pairs per micron. This is an ideal case, useful to extract the basic feature of the signal. This case is also used when comparing the simulated signal with measured events from a laser source. The program gives a graphical view of the charge distribution inside the sensor by drawing on the drift potential ellipses proportional to the deposited charge, as shown in the left part of Fig. 4. This case is useful to study the effect of charge nonuniformity on the signal shape, without the additional complication of a varying signal amplitude.</p>
        <p>(iii) MIP with non-uniform charge deposition and Landau distributed charge: both non-uniformity in charge distribution and amplitude variability are considered. This case is more realistic because it introduces also variability in the total MIP charge, achieved by extracting a random value from a Landau distribution [10]. Variability in both total MIP charge and localized pair production reflects on the current shape, as shown in the right part of Fig. 4.</p>
        <p>(iv) The fourth case gives the possibility to select the number of initial e À h pairs. This is useful when studying the electronic settings for very small or large signals.</p>
        <p>(v and vi) α particle from top/bottom simulates a 5 MeV α particle entering the sensor from the top or bottom side, with user selectable range. α particles have a limited range in silicon, therefore the pair production is localized in a rather superficial layerthe program allows the user to set the α particle range to emulate a selectable distance of the α source from the surface of the detector. Fig. 5a shows the output signal from an α particle impinging on the backside of a n-in-p sensor: the holes are promptly absorbed, while the electrons drift to the n þ electrode where the electric field is higher, causing an increase in the drift velocity and in the current. Fig. 5b shows the same situation for a detector with gain. In this case, the electrons entering the multiplication zone start the avalanche mechanism and produce additional electrons and holes [11].</p>
        <p>A comparison between WF2 predictions and laboratory measurements is presented in Fig. 6. The first column of the figure shows the signals from a MIP at 400 V and 600 V, the middle column the signals from an α particle impinging on the top part of the sensor, while the third column on the bottom part. For all three cases the agreement is excellent. In these cases the initial current signals are convoluted by the RC circuit produced by the detector capacitance (10 pF) and the oscilloscope input impedance (50 Ω). A comparison between WF2 and the TCAD software 
            <rs type="creator">Synopsys</rs> Sentaurus is presented in Fig. 7. The top part shows the induced current signal from a MIP in an LGAD detector (gain ¼19) 100 μm thick as computed by the two programs. The agreement is excellent, signifying that the eÀ h charge transport and the gain mechanism is correctly implemented in WF2. The bottom picture shows the same comparison for a thicker LGAD detector with slightly lower gain. Here a 20% disagreement on the signal roll off part is present, indicating that in Sentaurus the e À h spread during a longer drift is stronger than that of WF2.
        </p>
        <p>WF2 is a very good tool for fast and easy prototyping, it does not require a large amount of cpu power or a license. The code is open-source and the user can easily control it.</p>
        <p>Please cite this article as: F. Cenna, et al., Nuclear Instruments &amp; Methods in Physics Research A (2015), http://dx.doi.org/10.1016/j.</p>
        <p>Please cite this article as: F. Cenna, et al., Nuclear Instruments &amp; Methods in Physics Research A (2015), http://dx.doi.org/10.1016/j. nima.2015.04.015i</p>
        <p>The authors are grateful to Professor G.-F. Dalla Betta, Dott. L. Pancheri (Università di Trento), Dott. M. Borscardin and Dott. G. Paternoster (FBK Trento) for many stimulating discussions.</p>
    </text>
</tei>
