<?xml version="1.0" encoding="UTF-8"?>
<tei xmlns="http://www.tei-c.org/ns/1.0">
    <teiHeader>
        <fileDesc xml:id="_1"/>
        <encodingDesc>
            <appInfo>
                <application version="0.8.1-SNAPSHOT" ident="GROBID" when="2024-06-14T07:04+0000">
                    <ref target="https://github.com/kermitt2/grobid">A machine learning software for extracting information from scholarly documents</ref>
                </application>
            </appInfo>
        </encodingDesc>
    </teiHeader>
    <text xml:lang="en">
        <p>The control strategy of electric vehicles mainly depends on the power battery state-of-charge estimation. One of the most important issues is the power lithium-ion battery state-of-charge (SOC) estimation. Compare with the extended Kalman filter algorithm, this paper proposed a novel adaptive square root extended Kalman filter together with the Thevenin equivalent circuit model which can solve the problem of filtering divergence caused by computer rounding errors. It uses Sage-Husa adaptive filter to update the noise variable, and performs square root decomposition on the covariance matrix to ensure its non-negative definiteness. Moreover, a multi-scale dual Kalman filter algorithm is used for joint estimation of SOC and capacity; the forgetting factor recursive least-square method is used for parameter identification. To verify the feasibility of the algorithm under complicated operating conditions, different types of dynamic working conditions are performed on the ternary lithium-ion battery. The proposed algorithm has robust and accurate SOC estimation results and can eliminate computer rounding errors to improve adaptability compared to the conventional extended Kalman filter algorithm.The control strategy of electric vehicles mainly depends on the power battery state-of-charge estimation. One of the most important issues is the power lithium-ion battery state-of-charge (SOC) estimation. Compare with the extended Kalman filter algorithm, this paper proposed a novel adaptive square root extended Kalman filter together with the Thevenin equivalent circuit model which can solve the problem of filtering divergence caused by computer rounding errors. It uses Sage-Husa adaptive filter to update the noise variable, and performs square root decomposition on the covariance matrix to ensure its non-negative definiteness. Moreover, a multi-scale dual Kalman filter algorithm is used for joint estimation of SOC and capacity; the forgetting factor recursive least-square method is used for parameter identification. To verify the feasibility of the algorithm under complicated operating conditions, different types of dynamic working conditions are performed on the ternary lithium-ion battery. The proposed algorithm has robust and accurate SOC estimation results and can eliminate computer rounding errors to improve adaptability compared to the conventional extended Kalman filter algorithm.</p>
        <p>In order to deal with environmental problems, clean energy related research has become a hot spot in recent years.In order to deal with environmental problems, clean energy related research has become a hot spot in recent years.</p>
        <p>The lithium-ion battery (LIB) is becoming increasingly popular [1,2]. LIB plays an important role in power supply applications such as electric vehicles (EV), underwater vehicles, and distributed energy storage system [3]. The safety of the LIB is still an issue, which affects the utilization efficiency of its capacity and life directly, leading to accidents in several cases [4]. To ensure safe and reliable operation, LIB needs to be monitored and managed by the Battery Management Systems (BMS) [5]. The accurate SOC estimation by the BMS is necessary for the power application LIB [6]. However, the technical bottleneck of the accurate SOC estimation is an insurmountable problem [7], due to the immature management of the associated BMS equipment. It is used for the energy supply, which has stability and reliability requirements [8], aiming to avoid safety issues by monitoring battery status.The lithium-ion battery (LIB) is becoming increasingly popular [1,2]. LIB plays an important role in power supply applications such as electric vehicles (EV), underwater vehicles, and distributed energy storage system [3]. The safety of the LIB is still an issue, which affects the utilization efficiency of its capacity and life directly, leading to accidents in several cases [4]. To ensure safe and reliable operation, LIB needs to be monitored and managed by the Battery Management Systems (BMS) [5]. The accurate SOC estimation by the BMS is necessary for the power application LIB [6]. However, the technical bottleneck of the accurate SOC estimation is an insurmountable problem [7], due to the immature management of the associated BMS equipment. It is used for the energy supply, which has stability and reliability requirements [8], aiming to avoid safety issues by monitoring battery status.</p>
        <p>Many researchers have studied the LIB and proposed many methods to estimate the SOC until now. Most of existing SOC estimation methods can be divided into the following categories: (1) direct measurement method; (2) data-driven estimation method; (3) model-based estimation method [9,10].Many researchers have studied the LIB and proposed many methods to estimate the SOC until now. Most of existing SOC estimation methods can be divided into the following categories: (1) direct measurement method; (2) data-driven estimation method; (3) model-based estimation method [9,10].</p>
        <p>(1) Direct measurement method: The direct measurement method mainly includes the coulomb counting method and open-circuit voltage (OCV) method. The SOC value can be obtained by integrating the current when the initial value of the SOC is known. This method is called the coulomb counting method or ampere-hour integral method which is an open-loop method. It is sensitive to the initial value of SOC, and will cause uncorrectable cumulative errors. The relationship between OCV and SOC can be obtained by a fixed discharge rate, and then the value of the corresponding SOC is found in the relationship curve using the known OCV [11]. This method is called the OCV method [12]. Although the method can measure the value of SOC [13], the battery must be allowed to stand for more than one hour to start measuring, and the battery itself is susceptible to temperature and reproductive quality [14,15]. Therefore, it is not suitable for SOC estimation in operation.(1) Direct measurement method: The direct measurement method mainly includes the coulomb counting method and open-circuit voltage (OCV) method. The SOC value can be obtained by integrating the current when the initial value of the SOC is known. This method is called the coulomb counting method or ampere-hour integral method which is an open-loop method. It is sensitive to the initial value of SOC, and will cause uncorrectable cumulative errors. The relationship between OCV and SOC can be obtained by a fixed discharge rate, and then the value of the corresponding SOC is found in the relationship curve using the known OCV [11]. This method is called the OCV method [12]. Although the method can measure the value of SOC [13], the battery must be allowed to stand for more than one hour to start measuring, and the battery itself is susceptible to temperature and reproductive quality [14,15]. Therefore, it is not suitable for SOC estimation in operation.</p>
        <p>(2) Data-driven estimation method: Data-driven estimation methods use the input-output data of the system to develop an estimator. Since these methods do not require an accurate plant model, the estimations and assumptions introduced in the plant modeling step are omitted [9]. The typical algorithms include the fuzzy controller, the neural network [16][17][18][19], and the support vector machine(SVM) [20]. But data-driven estimation method suffers from problems like extensive training, difficult online adaption, and high computational effort [21].(2) Data-driven estimation method: Data-driven estimation methods use the input-output data of the system to develop an estimator. Since these methods do not require an accurate plant model, the estimations and assumptions introduced in the plant modeling step are omitted [9]. The typical algorithms include the fuzzy controller, the neural network [16][17][18][19], and the support vector machine(SVM) [20]. But data-driven estimation method suffers from problems like extensive training, difficult online adaption, and high computational effort [21].</p>
        <p>(3) Model-based estimation method: With the development of battery research, many battery models for the power LIB have been proposed [22][23][24][25][26]. Commonly used models can be roughly summarized into three types: electrochemical models (EM), equivalent circuit models (ECM), and electrochemical impedance models (EIM).(3) Model-based estimation method: With the development of battery research, many battery models for the power LIB have been proposed [22][23][24][25][26]. Commonly used models can be roughly summarized into three types: electrochemical models (EM), equivalent circuit models (ECM), and electrochemical impedance models (EIM).</p>
        <p>In the model-based estimation method, the battery model is generally expressed as state equations. Several state observers have been applied to the models separately, including extended Kalman filter (EKF), unscented Kalman filter (UKF) sliding mode observer (SMO), particle filter (PF), H-infinity observer, and their improved algorithms [10,18,[27][28][29][30][31][32][33][34].In the model-based estimation method, the battery model is generally expressed as state equations. Several state observers have been applied to the models separately, including extended Kalman filter (EKF), unscented Kalman filter (UKF) sliding mode observer (SMO), particle filter (PF), H-infinity observer, and their improved algorithms [10,18,[27][28][29][30][31][32][33][34].</p>
        <p>The battery characteristics are obtained by performing capacity and hybrid pulse power characteristic (HPPC) experiments on the battery at different temperatures, and analyzing the open-circuit voltage, ohmic internal resistance, and polarization resistance of the LIB under different states of charge and temperature. The parameters identification of the LIB model is carried out by the forgetting factor recursive least square (FFRLS) method. Co-estimate capacity and SOC based on a multiscale framework with EKF. Because all algorithm programs run on the computer, the realization of the Kalman filter maybe have numerical problems which can be proved by some papers [35,36]. There may be calculation errors due to the limited word length of the computer. When the error accumulation is serious, the error variance matrix P k can gradually lose its positive definiteness or symmetry, leading to Kalman filter divergence. To solve this problem, the square root decomposition is used to improve the EKF algorithm for the estimation of SOC.The battery characteristics are obtained by performing capacity and hybrid pulse power characteristic (HPPC) experiments on the battery at different temperatures, and analyzing the open-circuit voltage, ohmic internal resistance, and polarization resistance of the LIB under different states of charge and temperature. The parameters identification of the LIB model is carried out by the forgetting factor recursive least square (FFRLS) method. Co-estimate capacity and SOC based on a multiscale framework with EKF. Because all algorithm programs run on the computer, the realization of the Kalman filter maybe have numerical problems which can be proved by some papers [35,36]. There may be calculation errors due to the limited word length of the computer. When the error accumulation is serious, the error variance matrix P k can gradually lose its positive definiteness or symmetry, leading to Kalman filter divergence. To solve this problem, the square root decomposition is used to improve the EKF algorithm for the estimation of SOC.</p>
        <p>The Kalman algorithm and the EKF algorithm both treat system noise like white noise and ignore the noise characteristics in practical applications, thereby leading to the noise affecting the accuracy of the SOC estimation. An extended Kalman filter method based on adaptive covariance matching algorithm is used in some paper [34]. The noise is adjusted by Sage-Husa adaptive filtering and the adaptive square root extended Kalman filter (ASREKF) is a combined algorithm in this paper.The Kalman algorithm and the EKF algorithm both treat system noise like white noise and ignore the noise characteristics in practical applications, thereby leading to the noise affecting the accuracy of the SOC estimation. An extended Kalman filter method based on adaptive covariance matching algorithm is used in some paper [34]. The noise is adjusted by Sage-Husa adaptive filtering and the adaptive square root extended Kalman filter (ASREKF) is a combined algorithm in this paper.</p>
        <p>The rest of this paper is organized as follows. The mathematical theoretical analysis is conducted in section 2 including a definition of SOC, modeling of the LIB, and proposed ASREKF algorithm. In section 3, the experiments are illustrated as well as their estimation results. The conclusions is finally reported in Section 4.The rest of this paper is organized as follows. The mathematical theoretical analysis is conducted in section 2 including a definition of SOC, modeling of the LIB, and proposed ASREKF algorithm. In section 3, the experiments are illustrated as well as their estimation results. The conclusions is finally reported in Section 4.</p>
        <p>The SOC characterizes the remaining capacity of LIB, and is defined as the ratio of the remaining capacity to the maximum available capacity which can be expressed as Eq. ( 1) [10].The SOC characterizes the remaining capacity of LIB, and is defined as the ratio of the remaining capacity to the maximum available capacity which can be expressed as Eq. ( 1) [10].</p>
        <p>( )( )</p>
        <p>In Eq. (1), SOC t is the current estimated SOC, DOD t is the depth of discharge, C t is the remaining battery capacity, C max is the maximum available capacity when the battery is fully charged, SOC 0 is the initial SOC when the estimation process starts, η denotes the Coulombic efficiency, and i(t) is the load current (assumed discharging is positive).In Eq. (1), SOC t is the current estimated SOC, DOD t is the depth of discharge, C t is the remaining battery capacity, C max is the maximum available capacity when the battery is fully charged, SOC 0 is the initial SOC when the estimation process starts, η denotes the Coulombic efficiency, and i(t) is the load current (assumed discharging is positive).</p>
        <p>At present, there are some equivalent models for LIB which are proposed. Since the equivalent circuit model has the advantages of simple calculation and clear physical meaning, it is the most widely used. The simple model is easy to calculate, but it can not accurately describe the working characteristics of the battery. The complex model can better characterize the charge and discharge characteristics of the battery, but the calculation amount is greatly increased. Therefore, it is necessary to comprehensively consider accurate modeling and model simplicity. Many researchers choose the Thevenin equivalent circuit model [21,34,37,38] or second-order equivalent circuit model [39,40] after considering the model complexity and accuracy. Lai compared the influence of different order equivalent circuit models on the SOC estimation effect [41]. The results show that in the use of the second-order equivalent circuit, the accuracy of the model does not increase significantly, but the number of calculations based on the number of parameters increases. Considering the needs of engineering applications, the dynamic characteristics of LIB should be characterized by an uncomplicated equivalent model, so the Thevenin equivalent circuit model is selected. This paper uses the Thevenin equivalent circuit model shown in Fig. 1.At present, there are some equivalent models for LIB which are proposed. Since the equivalent circuit model has the advantages of simple calculation and clear physical meaning, it is the most widely used. The simple model is easy to calculate, but it can not accurately describe the working characteristics of the battery. The complex model can better characterize the charge and discharge characteristics of the battery, but the calculation amount is greatly increased. Therefore, it is necessary to comprehensively consider accurate modeling and model simplicity. Many researchers choose the Thevenin equivalent circuit model [21,34,37,38] or second-order equivalent circuit model [39,40] after considering the model complexity and accuracy. Lai compared the influence of different order equivalent circuit models on the SOC estimation effect [41]. The results show that in the use of the second-order equivalent circuit, the accuracy of the model does not increase significantly, but the number of calculations based on the number of parameters increases. Considering the needs of engineering applications, the dynamic characteristics of LIB should be characterized by an uncomplicated equivalent model, so the Thevenin equivalent circuit model is selected. This paper uses the Thevenin equivalent circuit model shown in Fig. 1.</p>
        <p>==</p>
        <p>U p represents the polarization voltage. Eq. ( 3) can be rewritten in the discrete-time form as [34,42]:U p represents the polarization voltage. Eq. ( 3) can be rewritten in the discrete-time form as [34,42]:</p>
        <p>In Eq. (4), t ∆ is a fixed time step between two adjacent measurement points and τ= R p C p .In Eq. (4), t ∆ is a fixed time step between two adjacent measurement points and τ= R p C p .</p>
        <p>, , , ,, , , ,</p>
        <p>Then, defineThen, define</p>
        <p>In Eq. ( 6), the model coefficient 0 α , 1 α and 2 α are:In Eq. ( 6), the model coefficient 0 α , 1 α and 2 α are:</p>
        <p>The open-circuit-voltage U oc can be characterized by the state variable SOC, according to which the nonlinear function relationship can be obtained. The function of U oc and SOC can be expressed as Eq. ( 8).The open-circuit-voltage U oc can be characterized by the state variable SOC, according to which the nonlinear function relationship can be obtained. The function of U oc and SOC can be expressed as Eq. ( 8).</p>
        <p>The R O , C p , and R p of LIB model parameters vary with temperature and SOC, which can be seen in section 3.3.The R O , C p , and R p of LIB model parameters vary with temperature and SOC, which can be seen in section 3.3.</p>
        <p>Model parameters may be changed by internal or external factors (such as battery aging or changes in the operating environment), and it can not be tracked and corrected in real-time by using conventional offline identification methods.Model parameters may be changed by internal or external factors (such as battery aging or changes in the operating environment), and it can not be tracked and corrected in real-time by using conventional offline identification methods.</p>
        <p>To solve this problem, the online parameter identification method based on the forgetting factor RLS method is used in the model parameter identification [34].To solve this problem, the online parameter identification method based on the forgetting factor RLS method is used in the model parameter identification [34].</p>
        <p>Assume the model can be described as:Assume the model can be described as:</p>
        <p>Then the system identification can be realized as follows:Then the system identification can be realized as follows:</p>
        <p>In Eq. ( 8) λ is the forgetting factor and e k is the prediction error. The model can be estimated iteratively by the recursive equations of the EKF, which are given in Eq. (10). The detailed implementation process of the forgetting factor RLS algorithm is shown in table 1.In Eq. ( 8) λ is the forgetting factor and e k is the prediction error. The model can be estimated iteratively by the recursive equations of the EKF, which are given in Eq. (10). The detailed implementation process of the forgetting factor RLS algorithm is shown in table 1.</p>
        <p>Table 1 Summary of the forgetting factor RLS algorithm.Table 1 Summary of the forgetting factor RLS algorithm.</p>
        <p>1) Parameter identification of OCV model in Eq. (3) a) Initialization:1) Parameter identification of OCV model in Eq. (3) a) Initialization:</p>
        <p>2) Parameter identification of battery model in Eq. ( 7) a) Initialization:2) Parameter identification of battery model in Eq. ( 7) a) Initialization:</p>
        <p>k and update model parameters:k and update model parameters:</p>
        <p>ϕ θ θ θ = -ϕ θ θ θ = -</p>
        <p>Compared with the change of the SOC, the battery capacity changes very slowly over time. Therefore, we will use a discrete-time state-space model with two time-scales: the macro and micro time-scales [43]. The state-space model can be written as shown in the Eq. ( 11).Compared with the change of the SOC, the battery capacity changes very slowly over time. Therefore, we will use a discrete-time state-space model with two time-scales: the macro and micro time-scales [43]. The state-space model can be written as shown in the Eq. ( 11).</p>
        <p>))</p>
        <p>In Eq. ( 11), X k,l is the vector of system states at the time t k,l = t k,l-1 + t ∆ , and k and l being the indices of macro and micro time-scales respectively; u k,l is the vector of observed exogenous inputs; β k is the vector of system model parameters at the time t k,0 ; Y k,l is the vector of system measurements; w k,l and r k are the vectors of process noise with covariance Q w and Q r for states and model parameters, respectively; v k,l is the vectors of measurement noise with covariance Q v ; f( , , ) and g( , , ) are the state transition and measurement functions, respectively. L represents the level of time-scale separation and that t k,0 = t k-1,L .In Eq. ( 11), X k,l is the vector of system states at the time t k,l = t k,l-1 + t ∆ , and k and l being the indices of macro and micro time-scales respectively; u k,l is the vector of observed exogenous inputs; β k is the vector of system model parameters at the time t k,0 ; Y k,l is the vector of system measurements; w k,l and r k are the vectors of process noise with covariance Q w and Q r for states and model parameters, respectively; v k,l is the vectors of measurement noise with covariance Q v ; f( , , ) and g( , , ) are the state transition and measurement functions, respectively. L represents the level of time-scale separation and that t k,0 = t k-1,L .</p>
        <p>The maximum available capacity C max is selected as parameter β. Combined with the definition of SOC and the battery model, the discrete state-space equation can be obtained as shown in Eq. (12). max, max, 1 1The maximum available capacity C max is selected as parameter β. Combined with the definition of SOC and the battery model, the discrete state-space equation can be obtained as shown in Eq. (12). max, max, 1 1</p>
        <p>Kalman filter is an optimized autoregressive data processing algorithm. The basic principle of the algorithm is to use the minimum mean square error as the best estimation criterion, and use the state-space model of signal and noise to introduce the relationship between state variables and observed variables by establishing state equations and observation equations model. The dual Kalman filter (DKF) method is a commonly used technique to simultaneously estimate the states and model parameters. The algorithm of multi-scale dual extended Kalman filter is shown in Table 2 and the detail can get in reference [43].Kalman filter is an optimized autoregressive data processing algorithm. The basic principle of the algorithm is to use the minimum mean square error as the best estimation criterion, and use the state-space model of signal and noise to introduce the relationship between state variables and observed variables by establishing state equations and observation equations model. The dual Kalman filter (DKF) method is a commonly used technique to simultaneously estimate the states and model parameters. The algorithm of multi-scale dual extended Kalman filter is shown in Table 2 and the detail can get in reference [43].</p>
        <p>))</p>
        <p>Micro EKF for state estimation a) Initialization:Micro EKF for state estimation a) Initialization:</p>
        <p>The SOC of LIB is affected by factors such as temperature, charge and discharge state, self-discharge, aging, etc.The SOC of LIB is affected by factors such as temperature, charge and discharge state, self-discharge, aging, etc.</p>
        <p>The internal chemical reaction is dynamic and its characteristics are highly nonlinear. These characteristics make SOC estimation difficult. In recent years, the Kalman filter is widely used in SOC estimation. But the realization of the covariance of the Kalman filter has numerical problems, which has been proved by many documents [35,36]. A square root decomposition of the state covariance matrix is proposed based on the extended Kalman algorithm. On the EKF algorithm, the error variance matrix P k is decomposed. Make P k =S k S k T , instead of calculating the covariance matrix, iteratively update the covariance decomposition matrix S k . This can ensure that the covariance matrix is non-negative definite, avoiding some algorithm divergence problems caused by the limited word length of the computer.The internal chemical reaction is dynamic and its characteristics are highly nonlinear. These characteristics make SOC estimation difficult. In recent years, the Kalman filter is widely used in SOC estimation. But the realization of the covariance of the Kalman filter has numerical problems, which has been proved by many documents [35,36]. A square root decomposition of the state covariance matrix is proposed based on the extended Kalman algorithm. On the EKF algorithm, the error variance matrix P k is decomposed. Make P k =S k S k T , instead of calculating the covariance matrix, iteratively update the covariance decomposition matrix S k . This can ensure that the covariance matrix is non-negative definite, avoiding some algorithm divergence problems caused by the limited word length of the computer.</p>
        <p>(1) State variables and covariance time updates as shown in Eq. (13).(1) State variables and covariance time updates as shown in Eq. (13).</p>
        <p>(2) The corresponding Kalman gain calculation changes as shown in Eq. (14). , ,(2) The corresponding Kalman gain calculation changes as shown in Eq. (14). , ,</p>
        <p>(3) State variables and covariance measure updates as shown in Eq. (15).(3) State variables and covariance measure updates as shown in Eq. (15).</p>
        <p>[ ][ ]</p>
        <p>Since the covariance matrix P k is decomposed, at least it is guaranteed that P k is always non-negative definite, which can overcome the filter divergence caused by the limited word length of the computer. In Eq. ( 15), I is identity matrix, k y % is residual, and Sage-Husa adaptively updates the noise variables and by comparing the final estimated value with the estimated value. To make the estimation of noise more accurate and avoid the influence of the observed value, this paper considers the noise at the previous moment and at the specific moment of time, and adopts the weighting coefficients d k,ln where d k,l =(1-b)/(1-b n+1 ), n = 0,1, ... . b is the forgetting factor. In practice, the smaller the value of b, the smaller the impact at the previous moment; if the value of b is small, the estimated noise will oscillate, so it can be determined according to the specific situation. Then the calculation formula of the noise matrix is as shown in Eq. ( 16).Since the covariance matrix P k is decomposed, at least it is guaranteed that P k is always non-negative definite, which can overcome the filter divergence caused by the limited word length of the computer. In Eq. ( 15), I is identity matrix, k y % is residual, and Sage-Husa adaptively updates the noise variables and by comparing the final estimated value with the estimated value. To make the estimation of noise more accurate and avoid the influence of the observed value, this paper considers the noise at the previous moment and at the specific moment of time, and adopts the weighting coefficients d k,ln where d k,l =(1-b)/(1-b n+1 ), n = 0,1, ... . b is the forgetting factor. In practice, the smaller the value of b, the smaller the impact at the previous moment; if the value of b is small, the estimated noise will oscillate, so it can be determined according to the specific situation. Then the calculation formula of the noise matrix is as shown in Eq. ( 16).</p>
        <p>The process noise and observation noise are corrected by Eq. ( 16), and the ASREKF algorithm is combined with Eq.The process noise and observation noise are corrected by Eq. ( 16), and the ASREKF algorithm is combined with Eq.</p>
        <p>(13) to Eq. ( 16) like Table 3.(13) to Eq. ( 16) like Table 3.</p>
        <p>Table 3 Implementation of the ASREKF algorithm.Table 3 Implementation of the ASREKF algorithm.</p>
        <p>a) Initialization:a) Initialization:</p>
        <p>[ ][ ]</p>
        <p>Then, Thevenin model parameter online identification based on FFRLS, micro EKF in Macroscale:Then, Thevenin model parameter online identification based on FFRLS, micro EKF in Macroscale:</p>
        <p>The NCM50Ah ternary power lithium battery was used as the experimental object, and its rated capacity was 50 Ah, the basic information of the battery is shown in Table 4. The battery test equipment is the Yakeyuan BTS 750-200-100-4, which has a maximum charge and discharge power of 750W, a maximum current of 100A, and a maximum voltage of 200V. The temperature chamber is s Bell Test Equipment Co., Ltd. BTT-331C. The entire test bench is shown in Fig. 3.The NCM50Ah ternary power lithium battery was used as the experimental object, and its rated capacity was 50 Ah, the basic information of the battery is shown in Table 4. The battery test equipment is the Yakeyuan BTS 750-200-100-4, which has a maximum charge and discharge power of 750W, a maximum current of 100A, and a maximum voltage of 200V. The temperature chamber is s Bell Test Equipment Co., Ltd. BTT-331C. The entire test bench is shown in Fig. 3.</p>
        <p>The capacity measurement test at different temperatures has steps as follows: Place the LIB in the incubator, adjust the incubator to 25℃, and fully charge the battery with constant current and constant voltage (CC-CV). The specific steps are as follows: charge to a constant voltage when the LIB voltage is 4.2V a constant current of 50A until the current is less than 2.5A. Adjust the temperature of the incubator and perform a constant current discharge test on the LIB at 1C (here 50A) to obtain the maximum usable capacity at this temperature. Finally, the maximum capacity of the battery at different temperatures is shown in Tab. 5. Temperature has a great impact on the maximum available capacity of LIB. As the temperature decreases, the maximum available capacity of the battery decreases. The maximum available capacity of LIB at -10 ° C is only 83.7% of LIB at 25 ° C.The capacity measurement test at different temperatures has steps as follows: Place the LIB in the incubator, adjust the incubator to 25℃, and fully charge the battery with constant current and constant voltage (CC-CV). The specific steps are as follows: charge to a constant voltage when the LIB voltage is 4.2V a constant current of 50A until the current is less than 2.5A. Adjust the temperature of the incubator and perform a constant current discharge test on the LIB at 1C (here 50A) to obtain the maximum usable capacity at this temperature. Finally, the maximum capacity of the battery at different temperatures is shown in Tab. 5. Temperature has a great impact on the maximum available capacity of LIB. As the temperature decreases, the maximum available capacity of the battery decreases. The maximum available capacity of LIB at -10 ° C is only 83.7% of LIB at 25 ° C.</p>
        <p>LIB has the advantages of high specific energy, high single battery voltage, small self-discharge rate, long charging and discharging life and no pollution. In the energy management of lithium batteries, accurate estimation of SOC is the key to power system operation, so it is of great significance. External characteristic from the battery to the battery model bridge between internal states. The battery performance of state estimation, analysis and evaluation of science also play a fundamental role. The change rule of each parameter is obtained by the Hybrid Pulse Power Characteristic In fig. 5(a), it can be seen from the figure that the U OC change trend at different temperatures is consistent. When the SOC is greater than 0.2, the U OC difference is not large at different temperatures; when the SOC is less than 0.2, the difference becomes large, and when the temperature is low, the U OC is high. Due to occasional error in the battery test capacity and the SOC calibration decreasing from 1 to 0, these errors will accumulate.LIB has the advantages of high specific energy, high single battery voltage, small self-discharge rate, long charging and discharging life and no pollution. In the energy management of lithium batteries, accurate estimation of SOC is the key to power system operation, so it is of great significance. External characteristic from the battery to the battery model bridge between internal states. The battery performance of state estimation, analysis and evaluation of science also play a fundamental role. The change rule of each parameter is obtained by the Hybrid Pulse Power Characteristic In fig. 5(a), it can be seen from the figure that the U OC change trend at different temperatures is consistent. When the SOC is greater than 0.2, the U OC difference is not large at different temperatures; when the SOC is less than 0.2, the difference becomes large, and when the temperature is low, the U OC is high. Due to occasional error in the battery test capacity and the SOC calibration decreasing from 1 to 0, these errors will accumulate.</p>
        <p>In fig. 5 In fig. 5(c), as can be seen from the figure, the polarization resistance R P at different temperatures has the same trend.In fig. 5 In fig. 5(c), as can be seen from the figure, the polarization resistance R P at different temperatures has the same trend.</p>
        <p>When SOC is greater than 0.2, the R P does not change significantly; when SOC is less than 0.2, the R P becomes larger, and the R P at different temperatures is not clearly distinguished, indicating that the influence of temperature change on R P is relatively small.When SOC is greater than 0.2, the R P does not change significantly; when SOC is less than 0.2, the R P becomes larger, and the R P at different temperatures is not clearly distinguished, indicating that the influence of temperature change on R P is relatively small.</p>
        <p>In fig. 5(d), it can be seen from the figure that the change trend of the polarization capacitance C P at different temperatures is not obvious compared with R O and R P . When SOC is less than 0.2, the C P becomes smaller at different temperatures. As the temperature decreases, the C P will decrease slightly.In fig. 5(d), it can be seen from the figure that the change trend of the polarization capacitance C P at different temperatures is not obvious compared with R O and R P . When SOC is less than 0.2, the C P becomes smaller at different temperatures. As the temperature decreases, the C P will decrease slightly.</p>
        <p>The FFRLS algorithm is a widely used online parameter identification algorithm [34,45], The details are in sectionThe FFRLS algorithm is a widely used online parameter identification algorithm [34,45], The details are in section</p>
        <p>To further verify the reliability of the proposed method, more complex working conditions based on Beijing Bus Dynamic Stress Test (BBDST) are performed on the ternary LIB. The BBDST conditions which is shown in table 6 simulate the acceleration, deceleration, uniform speed, rapid acceleration, coasting, and braking of the vehicle by charging and discharging the battery with different powers and different durations. 7. The results under variable temperature and complex working conditions indicate that accurate estimation result can be obtained by the proposed method.To further verify the reliability of the proposed method, more complex working conditions based on Beijing Bus Dynamic Stress Test (BBDST) are performed on the ternary LIB. The BBDST conditions which is shown in table 6 simulate the acceleration, deceleration, uniform speed, rapid acceleration, coasting, and braking of the vehicle by charging and discharging the battery with different powers and different durations. 7. The results under variable temperature and complex working conditions indicate that accurate estimation result can be obtained by the proposed method.</p>
        <p>replaced by ASREKF shown in Tablereplaced by ASREKF shown in Table</p>
        <p>22</p>
        <p>. A multiscale framework with ASREKF algorithm can be obtained and the implementation flowchart is shown in Fig.. A multiscale framework with ASREKF algorithm can be obtained and the implementation flowchart is shown in Fig.</p>
        <p>22</p>
        <p>..</p>
        <p>The research was supported by National Natural Science Foundation of China (No. 61801407).The research was supported by National Natural Science Foundation of China (No. 61801407).</p>
        <p>• An novel adaptive square root extended Kalman filter is proposed.• An novel adaptive square root extended Kalman filter is proposed.</p>
        <p>• Co-estimate capacity and state-of-charge based on multi-scale dual Kalman filter.• Co-estimate capacity and state-of-charge based on multi-scale dual Kalman filter.</p>
        <p>• The recursive least square method is employed for parameters online identification.• The recursive least square method is employed for parameters online identification.</p>
        <p>• The changes of lithium-ion battery model parameters with temperature are studied.• The changes of lithium-ion battery model parameters with temperature are studied.</p>
        <p>• The algorithm is validated with dynamic temperature working conditions.• The algorithm is validated with dynamic temperature working conditions.</p>
    </text>
</tei>
